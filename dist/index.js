var jr=Object.defineProperty;var Ar=(t,n,o)=>n in t?jr(t,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[n]=o;var v=(t,n,o)=>(Ar(t,typeof n!="symbol"?n+"":n,o),o);import{quoted as ee,ValueIsArray as po,ValuesAreEqual as Ne,ValuesDiffer as Lr,expectListSatisfying as Dr}from"javascript-interface-library";import{h as Fr}from"preact";import Mr from"htm";import{groupedBehaviorEntryList as Or,ValueIsError as Rr,TemplateOfBehavior as zr,removeIdsFrom as ze,throwError as T,SNS_Project as Wr,ValueIsName as Gr,throwReadOnlyError as se,newId as ho,ValueIsBoard as Hr}from"shareable-note-stickers";import{SNS_BoardView as $r}from"sns-boardview";import{ProtoUX as Yr,DragClickRecognizerFor as qr,computed as ge}from"protoux";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const x of h.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&a(x)}).observe(document,{childList:!0,subtree:!0});function o(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(u){if(u.ep)return;u.ep=!0;const h=o(u);fetch(u.href,h)}})();var Je=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ke(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Po={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(t,n){(function(o){t.exports=o()})(function(){return function o(a,u,h){function x(C,O){if(!u[C]){if(!a[C]){var _=typeof Ke=="function"&&Ke;if(!O&&_)return _(C,!0);if(g)return g(C,!0);var k=new Error("Cannot find module '"+C+"'");throw k.code="MODULE_NOT_FOUND",k}var D=u[C]={exports:{}};a[C][0].call(D.exports,function(z){var te=a[C][1][z];return x(te||z)},D,D.exports,o,a,u,h)}return u[C].exports}for(var g=typeof Ke=="function"&&Ke,y=0;y<h.length;y++)x(h[y]);return x}({1:[function(o,a,u){(function(h){var x=h.MutationObserver||h.WebKitMutationObserver,g;if(x){var y=0,C=new x(z),O=h.document.createTextNode("");C.observe(O,{characterData:!0}),g=function(){O.data=y=++y%2}}else if(!h.setImmediate&&typeof h.MessageChannel<"u"){var _=new h.MessageChannel;_.port1.onmessage=z,g=function(){_.port2.postMessage(0)}}else"document"in h&&"onreadystatechange"in h.document.createElement("script")?g=function(){var W=h.document.createElement("script");W.onreadystatechange=function(){z(),W.onreadystatechange=null,W.parentNode.removeChild(W),W=null},h.document.documentElement.appendChild(W)}:g=function(){setTimeout(z,0)};var k,D=[];function z(){k=!0;for(var W,ce,q=D.length;q;){for(ce=D,D=[],W=-1;++W<q;)ce[W]();q=D.length}k=!1}a.exports=te;function te(W){D.push(W)===1&&!k&&g()}}).call(this,typeof Je<"u"?Je:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(o,a,u){var h=o(1);function x(){}var g={},y=["REJECTED"],C=["FULFILLED"],O=["PENDING"];a.exports=_;function _(I){if(typeof I!="function")throw new TypeError("resolver must be a function");this.state=O,this.queue=[],this.outcome=void 0,I!==x&&te(this,I)}_.prototype.catch=function(I){return this.then(null,I)},_.prototype.then=function(I,E){if(typeof I!="function"&&this.state===C||typeof E!="function"&&this.state===y)return this;var V=new this.constructor(x);if(this.state!==O){var F=this.state===C?I:E;D(V,F,this.outcome)}else this.queue.push(new k(V,I,E));return V};function k(I,E,V){this.promise=I,typeof E=="function"&&(this.onFulfilled=E,this.callFulfilled=this.otherCallFulfilled),typeof V=="function"&&(this.onRejected=V,this.callRejected=this.otherCallRejected)}k.prototype.callFulfilled=function(I){g.resolve(this.promise,I)},k.prototype.otherCallFulfilled=function(I){D(this.promise,this.onFulfilled,I)},k.prototype.callRejected=function(I){g.reject(this.promise,I)},k.prototype.otherCallRejected=function(I){D(this.promise,this.onRejected,I)};function D(I,E,V){h(function(){var F;try{F=E(V)}catch(K){return g.reject(I,K)}F===I?g.reject(I,new TypeError("Cannot resolve promise with itself")):g.resolve(I,F)})}g.resolve=function(I,E){var V=W(z,E);if(V.status==="error")return g.reject(I,V.value);var F=V.value;if(F)te(I,F);else{I.state=C,I.outcome=E;for(var K=-1,ne=I.queue.length;++K<ne;)I.queue[K].callFulfilled(E)}return I},g.reject=function(I,E){I.state=y,I.outcome=E;for(var V=-1,F=I.queue.length;++V<F;)I.queue[V].callRejected(E);return I};function z(I){var E=I&&I.then;if(I&&(typeof I=="object"||typeof I=="function")&&typeof E=="function")return function(){E.apply(I,arguments)}}function te(I,E){var V=!1;function F(ae){V||(V=!0,g.reject(I,ae))}function K(ae){V||(V=!0,g.resolve(I,ae))}function ne(){E(K,F)}var ie=W(ne);ie.status==="error"&&F(ie.value)}function W(I,E){var V={};try{V.value=I(E),V.status="success"}catch(F){V.status="error",V.value=F}return V}_.resolve=ce;function ce(I){return I instanceof this?I:g.resolve(new this(x),I)}_.reject=q;function q(I){var E=new this(x);return g.reject(E,I)}_.all=ft;function ft(I){var E=this;if(Object.prototype.toString.call(I)!=="[object Array]")return this.reject(new TypeError("must be an array"));var V=I.length,F=!1;if(!V)return this.resolve([]);for(var K=new Array(V),ne=0,ie=-1,ae=new this(x);++ie<V;)xe(I[ie],ie);return ae;function xe(De,$e){E.resolve(De).then(gt,function(Te){F||(F=!0,g.reject(ae,Te))});function gt(Te){K[$e]=Te,++ne===V&&!F&&(F=!0,g.resolve(ae,K))}}}_.race=Be;function Be(I){var E=this;if(Object.prototype.toString.call(I)!=="[object Array]")return this.reject(new TypeError("must be an array"));var V=I.length,F=!1;if(!V)return this.resolve([]);for(var K=-1,ne=new this(x);++K<V;)ie(I[K]);return ne;function ie(ae){E.resolve(ae).then(function(xe){F||(F=!0,g.resolve(ne,xe))},function(xe){F||(F=!0,g.reject(ne,xe))})}}},{1:1}],3:[function(o,a,u){(function(h){typeof h.Promise!="function"&&(h.Promise=o(2))}).call(this,typeof Je<"u"?Je:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(o,a,u){var h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r};function x(r,l){if(!(r instanceof l))throw new TypeError("Cannot call a class as a function")}function g(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var y=g();function C(){try{if(!y||!y.open)return!1;var r=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),l=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!r||l)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function O(r,l){r=r||[],l=l||{};try{return new Blob(r,l)}catch(c){if(c.name!=="TypeError")throw c;for(var i=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,d=new i,p=0;p<r.length;p+=1)d.append(r[p]);return d.getBlob(l.type)}}typeof Promise>"u"&&o(3);var _=Promise;function k(r,l){l&&r.then(function(i){l(null,i)},function(i){l(i)})}function D(r,l,i){typeof l=="function"&&r.then(l),typeof i=="function"&&r.catch(i)}function z(r){return typeof r!="string"&&(console.warn(r+" used as a key, but it is not a string."),r=String(r)),r}function te(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var W="local-forage-detect-blob-support",ce=void 0,q={},ft=Object.prototype.toString,Be="readonly",I="readwrite";function E(r){for(var l=r.length,i=new ArrayBuffer(l),d=new Uint8Array(i),p=0;p<l;p++)d[p]=r.charCodeAt(p);return i}function V(r){return new _(function(l){var i=r.transaction(W,I),d=O([""]);i.objectStore(W).put(d,"key"),i.onabort=function(p){p.preventDefault(),p.stopPropagation(),l(!1)},i.oncomplete=function(){var p=navigator.userAgent.match(/Chrome\/(\d+)/),c=navigator.userAgent.match(/Edge\//);l(c||!p||parseInt(p[1],10)>=43)}}).catch(function(){return!1})}function F(r){return typeof ce=="boolean"?_.resolve(ce):V(r).then(function(l){return ce=l,ce})}function K(r){var l=q[r.name],i={};i.promise=new _(function(d,p){i.resolve=d,i.reject=p}),l.deferredOperations.push(i),l.dbReady?l.dbReady=l.dbReady.then(function(){return i.promise}):l.dbReady=i.promise}function ne(r){var l=q[r.name],i=l.deferredOperations.pop();if(i)return i.resolve(),i.promise}function ie(r,l){var i=q[r.name],d=i.deferredOperations.pop();if(d)return d.reject(l),d.promise}function ae(r,l){return new _(function(i,d){if(q[r.name]=q[r.name]||Gt(),r.db)if(l)K(r),r.db.close();else return i(r.db);var p=[r.name];l&&p.push(r.version);var c=y.open.apply(y,p);l&&(c.onupgradeneeded=function(f){var m=c.result;try{m.createObjectStore(r.storeName),f.oldVersion<=1&&m.createObjectStore(W)}catch(b){if(b.name==="ConstraintError")console.warn('The database "'+r.name+'" has been upgraded from version '+f.oldVersion+" to version "+f.newVersion+', but the storage "'+r.storeName+'" already exists.');else throw b}}),c.onerror=function(f){f.preventDefault(),d(c.error)},c.onsuccess=function(){var f=c.result;f.onversionchange=function(m){m.target.close()},i(f),ne(r)}})}function xe(r){return ae(r,!1)}function De(r){return ae(r,!0)}function $e(r,l){if(!r.db)return!0;var i=!r.db.objectStoreNames.contains(r.storeName),d=r.version<r.db.version,p=r.version>r.db.version;if(d&&(r.version!==l&&console.warn('The database "'+r.name+`" can't be downgraded from version `+r.db.version+" to version "+r.version+"."),r.version=r.db.version),p||i){if(i){var c=r.db.version+1;c>r.version&&(r.version=c)}return!0}return!1}function gt(r){return new _(function(l,i){var d=new FileReader;d.onerror=i,d.onloadend=function(p){var c=btoa(p.target.result||"");l({__local_forage_encoded_blob:!0,data:c,type:r.type})},d.readAsBinaryString(r)})}function Te(r){var l=E(atob(r.data));return O([l],{type:r.type})}function Wt(r){return r&&r.__local_forage_encoded_blob}function Ao(r){var l=this,i=l._initReady().then(function(){var d=q[l._dbInfo.name];if(d&&d.dbReady)return d.dbReady});return D(i,r,r),i}function Lo(r){K(r);for(var l=q[r.name],i=l.forages,d=0;d<i.length;d++){var p=i[d];p._dbInfo.db&&(p._dbInfo.db.close(),p._dbInfo.db=null)}return r.db=null,xe(r).then(function(c){return r.db=c,$e(r)?De(r):c}).then(function(c){r.db=l.db=c;for(var f=0;f<i.length;f++)i[f]._dbInfo.db=c}).catch(function(c){throw ie(r,c),c})}function be(r,l,i,d){d===void 0&&(d=1);try{var p=r.db.transaction(r.storeName,l);i(null,p)}catch(c){if(d>0&&(!r.db||c.name==="InvalidStateError"||c.name==="NotFoundError"))return _.resolve().then(function(){if(!r.db||c.name==="NotFoundError"&&!r.db.objectStoreNames.contains(r.storeName)&&r.version<=r.db.version)return r.db&&(r.version=r.db.version+1),De(r)}).then(function(){return Lo(r).then(function(){be(r,l,i,d-1)})}).catch(i);i(c)}}function Gt(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Do(r){var l=this,i={db:null};if(r)for(var d in r)i[d]=r[d];var p=q[i.name];p||(p=Gt(),q[i.name]=p),p.forages.push(l),l._initReady||(l._initReady=l.ready,l.ready=Ao);var c=[];function f(){return _.resolve()}for(var m=0;m<p.forages.length;m++){var b=p.forages[m];b!==l&&c.push(b._initReady().catch(f))}var P=p.forages.slice(0);return _.all(c).then(function(){return i.db=p.db,xe(i)}).then(function(S){return i.db=S,$e(i,l._defaultConfig.version)?De(i):S}).then(function(S){i.db=p.db=S,l._dbInfo=i;for(var w=0;w<P.length;w++){var U=P[w];U!==l&&(U._dbInfo.db=i.db,U._dbInfo.version=i.version)}})}function Fo(r,l){var i=this;r=z(r);var d=new _(function(p,c){i.ready().then(function(){be(i._dbInfo,Be,function(f,m){if(f)return c(f);try{var b=m.objectStore(i._dbInfo.storeName),P=b.get(r);P.onsuccess=function(){var S=P.result;S===void 0&&(S=null),Wt(S)&&(S=Te(S)),p(S)},P.onerror=function(){c(P.error)}}catch(S){c(S)}})}).catch(c)});return k(d,l),d}function Mo(r,l){var i=this,d=new _(function(p,c){i.ready().then(function(){be(i._dbInfo,Be,function(f,m){if(f)return c(f);try{var b=m.objectStore(i._dbInfo.storeName),P=b.openCursor(),S=1;P.onsuccess=function(){var w=P.result;if(w){var U=w.value;Wt(U)&&(U=Te(U));var j=r(U,w.key,S++);j!==void 0?p(j):w.continue()}else p()},P.onerror=function(){c(P.error)}}catch(w){c(w)}})}).catch(c)});return k(d,l),d}function Oo(r,l,i){var d=this;r=z(r);var p=new _(function(c,f){var m;d.ready().then(function(){return m=d._dbInfo,ft.call(l)==="[object Blob]"?F(m.db).then(function(b){return b?l:gt(l)}):l}).then(function(b){be(d._dbInfo,I,function(P,S){if(P)return f(P);try{var w=S.objectStore(d._dbInfo.storeName);b===null&&(b=void 0);var U=w.put(b,r);S.oncomplete=function(){b===void 0&&(b=null),c(b)},S.onabort=S.onerror=function(){var j=U.error?U.error:U.transaction.error;f(j)}}catch(j){f(j)}})}).catch(f)});return k(p,i),p}function Ro(r,l){var i=this;r=z(r);var d=new _(function(p,c){i.ready().then(function(){be(i._dbInfo,I,function(f,m){if(f)return c(f);try{var b=m.objectStore(i._dbInfo.storeName),P=b.delete(r);m.oncomplete=function(){p()},m.onerror=function(){c(P.error)},m.onabort=function(){var S=P.error?P.error:P.transaction.error;c(S)}}catch(S){c(S)}})}).catch(c)});return k(d,l),d}function zo(r){var l=this,i=new _(function(d,p){l.ready().then(function(){be(l._dbInfo,I,function(c,f){if(c)return p(c);try{var m=f.objectStore(l._dbInfo.storeName),b=m.clear();f.oncomplete=function(){d()},f.onabort=f.onerror=function(){var P=b.error?b.error:b.transaction.error;p(P)}}catch(P){p(P)}})}).catch(p)});return k(i,r),i}function Wo(r){var l=this,i=new _(function(d,p){l.ready().then(function(){be(l._dbInfo,Be,function(c,f){if(c)return p(c);try{var m=f.objectStore(l._dbInfo.storeName),b=m.count();b.onsuccess=function(){d(b.result)},b.onerror=function(){p(b.error)}}catch(P){p(P)}})}).catch(p)});return k(i,r),i}function Go(r,l){var i=this,d=new _(function(p,c){if(r<0){p(null);return}i.ready().then(function(){be(i._dbInfo,Be,function(f,m){if(f)return c(f);try{var b=m.objectStore(i._dbInfo.storeName),P=!1,S=b.openKeyCursor();S.onsuccess=function(){var w=S.result;if(!w){p(null);return}r===0||P?p(w.key):(P=!0,w.advance(r))},S.onerror=function(){c(S.error)}}catch(w){c(w)}})}).catch(c)});return k(d,l),d}function Ho(r){var l=this,i=new _(function(d,p){l.ready().then(function(){be(l._dbInfo,Be,function(c,f){if(c)return p(c);try{var m=f.objectStore(l._dbInfo.storeName),b=m.openKeyCursor(),P=[];b.onsuccess=function(){var S=b.result;if(!S){d(P);return}P.push(S.key),S.continue()},b.onerror=function(){p(b.error)}}catch(S){p(S)}})}).catch(p)});return k(i,r),i}function $o(r,l){l=te.apply(this,arguments);var i=this.config();r=typeof r!="function"&&r||{},r.name||(r.name=r.name||i.name,r.storeName=r.storeName||i.storeName);var d=this,p;if(!r.name)p=_.reject("Invalid arguments");else{var c=r.name===i.name&&d._dbInfo.db,f=c?_.resolve(d._dbInfo.db):xe(r).then(function(m){var b=q[r.name],P=b.forages;b.db=m;for(var S=0;S<P.length;S++)P[S]._dbInfo.db=m;return m});r.storeName?p=f.then(function(m){if(m.objectStoreNames.contains(r.storeName)){var b=m.version+1;K(r);var P=q[r.name],S=P.forages;m.close();for(var w=0;w<S.length;w++){var U=S[w];U._dbInfo.db=null,U._dbInfo.version=b}var j=new _(function(A,H){var G=y.open(r.name,b);G.onerror=function(le){var Me=G.result;Me.close(),H(le)},G.onupgradeneeded=function(){var le=G.result;le.deleteObjectStore(r.storeName)},G.onsuccess=function(){var le=G.result;le.close(),A(le)}});return j.then(function(A){P.db=A;for(var H=0;H<S.length;H++){var G=S[H];G._dbInfo.db=A,ne(G._dbInfo)}}).catch(function(A){throw(ie(r,A)||_.resolve()).catch(function(){}),A})}}):p=f.then(function(m){K(r);var b=q[r.name],P=b.forages;m.close();for(var S=0;S<P.length;S++){var w=P[S];w._dbInfo.db=null}var U=new _(function(j,A){var H=y.deleteDatabase(r.name);H.onerror=function(){var G=H.result;G&&G.close(),A(H.error)},H.onblocked=function(){console.warn('dropInstance blocked for database "'+r.name+'" until all open connections are closed')},H.onsuccess=function(){var G=H.result;G&&G.close(),j(G)}});return U.then(function(j){b.db=j;for(var A=0;A<P.length;A++){var H=P[A];ne(H._dbInfo)}}).catch(function(j){throw(ie(r,j)||_.resolve()).catch(function(){}),j})})}return k(p,l),p}var Yo={_driver:"asyncStorage",_initStorage:Do,_support:C(),iterate:Mo,getItem:Fo,setItem:Oo,removeItem:Ro,clear:zo,length:Wo,key:Go,keys:Ho,dropInstance:$o};function qo(){return typeof openDatabase=="function"}var Se="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Jo="~~local_forage_type~",Ht=/^~~local_forage_type~([^~]+)~/,Ye="__lfsc__:",mt=Ye.length,xt="arbf",bt="blob",$t="si08",Yt="ui08",qt="uic8",Jt="si16",Kt="si32",Qt="ur16",Zt="ui32",eo="fl32",to="fl64",oo=mt+xt.length,ro=Object.prototype.toString;function no(r){var l=r.length*.75,i=r.length,d,p=0,c,f,m,b;r[r.length-1]==="="&&(l--,r[r.length-2]==="="&&l--);var P=new ArrayBuffer(l),S=new Uint8Array(P);for(d=0;d<i;d+=4)c=Se.indexOf(r[d]),f=Se.indexOf(r[d+1]),m=Se.indexOf(r[d+2]),b=Se.indexOf(r[d+3]),S[p++]=c<<2|f>>4,S[p++]=(f&15)<<4|m>>2,S[p++]=(m&3)<<6|b&63;return P}function Pt(r){var l=new Uint8Array(r),i="",d;for(d=0;d<l.length;d+=3)i+=Se[l[d]>>2],i+=Se[(l[d]&3)<<4|l[d+1]>>4],i+=Se[(l[d+1]&15)<<2|l[d+2]>>6],i+=Se[l[d+2]&63];return l.length%3===2?i=i.substring(0,i.length-1)+"=":l.length%3===1&&(i=i.substring(0,i.length-2)+"=="),i}function Ko(r,l){var i="";if(r&&(i=ro.call(r)),r&&(i==="[object ArrayBuffer]"||r.buffer&&ro.call(r.buffer)==="[object ArrayBuffer]")){var d,p=Ye;r instanceof ArrayBuffer?(d=r,p+=xt):(d=r.buffer,i==="[object Int8Array]"?p+=$t:i==="[object Uint8Array]"?p+=Yt:i==="[object Uint8ClampedArray]"?p+=qt:i==="[object Int16Array]"?p+=Jt:i==="[object Uint16Array]"?p+=Qt:i==="[object Int32Array]"?p+=Kt:i==="[object Uint32Array]"?p+=Zt:i==="[object Float32Array]"?p+=eo:i==="[object Float64Array]"?p+=to:l(new Error("Failed to get type for BinaryArray"))),l(p+Pt(d))}else if(i==="[object Blob]"){var c=new FileReader;c.onload=function(){var f=Jo+r.type+"~"+Pt(this.result);l(Ye+bt+f)},c.readAsArrayBuffer(r)}else try{l(JSON.stringify(r))}catch(f){console.error("Couldn't convert value into a JSON string: ",r),l(null,f)}}function Qo(r){if(r.substring(0,mt)!==Ye)return JSON.parse(r);var l=r.substring(oo),i=r.substring(mt,oo),d;if(i===bt&&Ht.test(l)){var p=l.match(Ht);d=p[1],l=l.substring(p[0].length)}var c=no(l);switch(i){case xt:return c;case bt:return O([c],{type:d});case $t:return new Int8Array(c);case Yt:return new Uint8Array(c);case qt:return new Uint8ClampedArray(c);case Jt:return new Int16Array(c);case Qt:return new Uint16Array(c);case Kt:return new Int32Array(c);case Zt:return new Uint32Array(c);case eo:return new Float32Array(c);case to:return new Float64Array(c);default:throw new Error("Unkown type: "+i)}}var St={serialize:Ko,deserialize:Qo,stringToBuffer:no,bufferToString:Pt};function io(r,l,i,d){r.executeSql("CREATE TABLE IF NOT EXISTS "+l.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],i,d)}function Zo(r){var l=this,i={db:null};if(r)for(var d in r)i[d]=typeof r[d]!="string"?r[d].toString():r[d];var p=new _(function(c,f){try{i.db=openDatabase(i.name,String(i.version),i.description,i.size)}catch(m){return f(m)}i.db.transaction(function(m){io(m,i,function(){l._dbInfo=i,c()},function(b,P){f(P)})},f)});return i.serializer=St,p}function Ie(r,l,i,d,p,c){r.executeSql(i,d,p,function(f,m){m.code===m.SYNTAX_ERR?f.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[l.storeName],function(b,P){P.rows.length?c(b,m):io(b,l,function(){b.executeSql(i,d,p,c)},c)},c):c(f,m)},c)}function er(r,l){var i=this;r=z(r);var d=new _(function(p,c){i.ready().then(function(){var f=i._dbInfo;f.db.transaction(function(m){Ie(m,f,"SELECT * FROM "+f.storeName+" WHERE key = ? LIMIT 1",[r],function(b,P){var S=P.rows.length?P.rows.item(0).value:null;S&&(S=f.serializer.deserialize(S)),p(S)},function(b,P){c(P)})})}).catch(c)});return k(d,l),d}function tr(r,l){var i=this,d=new _(function(p,c){i.ready().then(function(){var f=i._dbInfo;f.db.transaction(function(m){Ie(m,f,"SELECT * FROM "+f.storeName,[],function(b,P){for(var S=P.rows,w=S.length,U=0;U<w;U++){var j=S.item(U),A=j.value;if(A&&(A=f.serializer.deserialize(A)),A=r(A,j.key,U+1),A!==void 0){p(A);return}}p()},function(b,P){c(P)})})}).catch(c)});return k(d,l),d}function ao(r,l,i,d){var p=this;r=z(r);var c=new _(function(f,m){p.ready().then(function(){l===void 0&&(l=null);var b=l,P=p._dbInfo;P.serializer.serialize(l,function(S,w){w?m(w):P.db.transaction(function(U){Ie(U,P,"INSERT OR REPLACE INTO "+P.storeName+" (key, value) VALUES (?, ?)",[r,S],function(){f(b)},function(j,A){m(A)})},function(U){if(U.code===U.QUOTA_ERR){if(d>0){f(ao.apply(p,[r,b,i,d-1]));return}m(U)}})})}).catch(m)});return k(c,i),c}function or(r,l,i){return ao.apply(this,[r,l,i,1])}function rr(r,l){var i=this;r=z(r);var d=new _(function(p,c){i.ready().then(function(){var f=i._dbInfo;f.db.transaction(function(m){Ie(m,f,"DELETE FROM "+f.storeName+" WHERE key = ?",[r],function(){p()},function(b,P){c(P)})})}).catch(c)});return k(d,l),d}function nr(r){var l=this,i=new _(function(d,p){l.ready().then(function(){var c=l._dbInfo;c.db.transaction(function(f){Ie(f,c,"DELETE FROM "+c.storeName,[],function(){d()},function(m,b){p(b)})})}).catch(p)});return k(i,r),i}function ir(r){var l=this,i=new _(function(d,p){l.ready().then(function(){var c=l._dbInfo;c.db.transaction(function(f){Ie(f,c,"SELECT COUNT(key) as c FROM "+c.storeName,[],function(m,b){var P=b.rows.item(0).c;d(P)},function(m,b){p(b)})})}).catch(p)});return k(i,r),i}function ar(r,l){var i=this,d=new _(function(p,c){i.ready().then(function(){var f=i._dbInfo;f.db.transaction(function(m){Ie(m,f,"SELECT key FROM "+f.storeName+" WHERE id = ? LIMIT 1",[r+1],function(b,P){var S=P.rows.length?P.rows.item(0).key:null;p(S)},function(b,P){c(P)})})}).catch(c)});return k(d,l),d}function lr(r){var l=this,i=new _(function(d,p){l.ready().then(function(){var c=l._dbInfo;c.db.transaction(function(f){Ie(f,c,"SELECT key FROM "+c.storeName,[],function(m,b){for(var P=[],S=0;S<b.rows.length;S++)P.push(b.rows.item(S).key);d(P)},function(m,b){p(b)})})}).catch(p)});return k(i,r),i}function sr(r){return new _(function(l,i){r.transaction(function(d){d.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(p,c){for(var f=[],m=0;m<c.rows.length;m++)f.push(c.rows.item(m).name);l({db:r,storeNames:f})},function(p,c){i(c)})},function(d){i(d)})})}function cr(r,l){l=te.apply(this,arguments);var i=this.config();r=typeof r!="function"&&r||{},r.name||(r.name=r.name||i.name,r.storeName=r.storeName||i.storeName);var d=this,p;return r.name?p=new _(function(c){var f;r.name===i.name?f=d._dbInfo.db:f=openDatabase(r.name,"","",0),r.storeName?c({db:f,storeNames:[r.storeName]}):c(sr(f))}).then(function(c){return new _(function(f,m){c.db.transaction(function(b){function P(j){return new _(function(A,H){b.executeSql("DROP TABLE IF EXISTS "+j,[],function(){A()},function(G,le){H(le)})})}for(var S=[],w=0,U=c.storeNames.length;w<U;w++)S.push(P(c.storeNames[w]));_.all(S).then(function(){f()}).catch(function(j){m(j)})},function(b){m(b)})})}):p=_.reject("Invalid arguments"),k(p,l),p}var dr={_driver:"webSQLStorage",_initStorage:Zo,_support:qo(),iterate:tr,getItem:er,setItem:or,removeItem:rr,clear:nr,length:ir,key:ar,keys:lr,dropInstance:cr};function ur(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function lo(r,l){var i=r.name+"/";return r.storeName!==l.storeName&&(i+=r.storeName+"/"),i}function pr(){var r="_localforage_support_test";try{return localStorage.setItem(r,!0),localStorage.removeItem(r),!1}catch{return!0}}function hr(){return!pr()||localStorage.length>0}function fr(r){var l=this,i={};if(r)for(var d in r)i[d]=r[d];return i.keyPrefix=lo(r,l._defaultConfig),hr()?(l._dbInfo=i,i.serializer=St,_.resolve()):_.reject()}function gr(r){var l=this,i=l.ready().then(function(){for(var d=l._dbInfo.keyPrefix,p=localStorage.length-1;p>=0;p--){var c=localStorage.key(p);c.indexOf(d)===0&&localStorage.removeItem(c)}});return k(i,r),i}function mr(r,l){var i=this;r=z(r);var d=i.ready().then(function(){var p=i._dbInfo,c=localStorage.getItem(p.keyPrefix+r);return c&&(c=p.serializer.deserialize(c)),c});return k(d,l),d}function xr(r,l){var i=this,d=i.ready().then(function(){for(var p=i._dbInfo,c=p.keyPrefix,f=c.length,m=localStorage.length,b=1,P=0;P<m;P++){var S=localStorage.key(P);if(S.indexOf(c)===0){var w=localStorage.getItem(S);if(w&&(w=p.serializer.deserialize(w)),w=r(w,S.substring(f),b++),w!==void 0)return w}}});return k(d,l),d}function br(r,l){var i=this,d=i.ready().then(function(){var p=i._dbInfo,c;try{c=localStorage.key(r)}catch{c=null}return c&&(c=c.substring(p.keyPrefix.length)),c});return k(d,l),d}function Pr(r){var l=this,i=l.ready().then(function(){for(var d=l._dbInfo,p=localStorage.length,c=[],f=0;f<p;f++){var m=localStorage.key(f);m.indexOf(d.keyPrefix)===0&&c.push(m.substring(d.keyPrefix.length))}return c});return k(i,r),i}function Sr(r){var l=this,i=l.keys().then(function(d){return d.length});return k(i,r),i}function Ir(r,l){var i=this;r=z(r);var d=i.ready().then(function(){var p=i._dbInfo;localStorage.removeItem(p.keyPrefix+r)});return k(d,l),d}function _r(r,l,i){var d=this;r=z(r);var p=d.ready().then(function(){l===void 0&&(l=null);var c=l;return new _(function(f,m){var b=d._dbInfo;b.serializer.serialize(l,function(P,S){if(S)m(S);else try{localStorage.setItem(b.keyPrefix+r,P),f(c)}catch(w){(w.name==="QuotaExceededError"||w.name==="NS_ERROR_DOM_QUOTA_REACHED")&&m(w),m(w)}})})});return k(p,i),p}function yr(r,l){if(l=te.apply(this,arguments),r=typeof r!="function"&&r||{},!r.name){var i=this.config();r.name=r.name||i.name,r.storeName=r.storeName||i.storeName}var d=this,p;return r.name?p=new _(function(c){r.storeName?c(lo(r,d._defaultConfig)):c(r.name+"/")}).then(function(c){for(var f=localStorage.length-1;f>=0;f--){var m=localStorage.key(f);m.indexOf(c)===0&&localStorage.removeItem(m)}}):p=_.reject("Invalid arguments"),k(p,l),p}var wr={_driver:"localStorageWrapper",_initStorage:fr,_support:ur(),iterate:xr,getItem:mr,setItem:_r,removeItem:Ir,clear:gr,length:Sr,key:br,keys:Pr,dropInstance:yr},Br=function(l,i){return l===i||typeof l=="number"&&typeof i=="number"&&isNaN(l)&&isNaN(i)},vr=function(l,i){for(var d=l.length,p=0;p<d;){if(Br(l[p],i))return!0;p++}return!1},so=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"},Fe={},co={},Xe={INDEXEDDB:Yo,WEBSQL:dr,LOCALSTORAGE:wr},kr=[Xe.INDEXEDDB._driver,Xe.WEBSQL._driver,Xe.LOCALSTORAGE._driver],qe=["dropInstance"],It=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(qe),Cr={description:"",driver:kr.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Ur(r,l){r[l]=function(){var i=arguments;return r.ready().then(function(){return r[l].apply(r,i)})}}function _t(){for(var r=1;r<arguments.length;r++){var l=arguments[r];if(l)for(var i in l)l.hasOwnProperty(i)&&(so(l[i])?arguments[0][i]=l[i].slice():arguments[0][i]=l[i])}return arguments[0]}var Tr=function(){function r(l){x(this,r);for(var i in Xe)if(Xe.hasOwnProperty(i)){var d=Xe[i],p=d._driver;this[i]=p,Fe[p]||this.defineDriver(d)}this._defaultConfig=_t({},Cr),this._config=_t({},this._defaultConfig,l),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return r.prototype.config=function(i){if((typeof i>"u"?"undefined":h(i))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var d in i){if(d==="storeName"&&(i[d]=i[d].replace(/\W/g,"_")),d==="version"&&typeof i[d]!="number")return new Error("Database version must be a number.");this._config[d]=i[d]}return"driver"in i&&i.driver?this.setDriver(this._config.driver):!0}else return typeof i=="string"?this._config[i]:this._config},r.prototype.defineDriver=function(i,d,p){var c=new _(function(f,m){try{var b=i._driver,P=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!i._driver){m(P);return}for(var S=It.concat("_initStorage"),w=0,U=S.length;w<U;w++){var j=S[w],A=!vr(qe,j);if((A||i[j])&&typeof i[j]!="function"){m(P);return}}var H=function(){for(var Me=function(Nr){return function(){var Er=new Error("Method "+Nr+" is not implemented by the current driver"),uo=_.reject(Er);return k(uo,arguments[arguments.length-1]),uo}},yt=0,Vr=qe.length;yt<Vr;yt++){var wt=qe[yt];i[wt]||(i[wt]=Me(wt))}};H();var G=function(Me){Fe[b]&&console.info("Redefining LocalForage driver: "+b),Fe[b]=i,co[b]=Me,f()};"_support"in i?i._support&&typeof i._support=="function"?i._support().then(G,m):G(!!i._support):G(!0)}catch(le){m(le)}});return D(c,d,p),c},r.prototype.driver=function(){return this._driver||null},r.prototype.getDriver=function(i,d,p){var c=Fe[i]?_.resolve(Fe[i]):_.reject(new Error("Driver not found."));return D(c,d,p),c},r.prototype.getSerializer=function(i){var d=_.resolve(St);return D(d,i),d},r.prototype.ready=function(i){var d=this,p=d._driverSet.then(function(){return d._ready===null&&(d._ready=d._initDriver()),d._ready});return D(p,i,i),p},r.prototype.setDriver=function(i,d,p){var c=this;so(i)||(i=[i]);var f=this._getSupportedDrivers(i);function m(){c._config.driver=c.driver()}function b(w){return c._extend(w),m(),c._ready=c._initStorage(c._config),c._ready}function P(w){return function(){var U=0;function j(){for(;U<w.length;){var A=w[U];return U++,c._dbInfo=null,c._ready=null,c.getDriver(A).then(b).catch(j)}m();var H=new Error("No available storage method found.");return c._driverSet=_.reject(H),c._driverSet}return j()}}var S=this._driverSet!==null?this._driverSet.catch(function(){return _.resolve()}):_.resolve();return this._driverSet=S.then(function(){var w=f[0];return c._dbInfo=null,c._ready=null,c.getDriver(w).then(function(U){c._driver=U._driver,m(),c._wrapLibraryMethodsWithReady(),c._initDriver=P(f)})}).catch(function(){m();var w=new Error("No available storage method found.");return c._driverSet=_.reject(w),c._driverSet}),D(this._driverSet,d,p),this._driverSet},r.prototype.supports=function(i){return!!co[i]},r.prototype._extend=function(i){_t(this,i)},r.prototype._getSupportedDrivers=function(i){for(var d=[],p=0,c=i.length;p<c;p++){var f=i[p];this.supports(f)&&d.push(f)}return d},r.prototype._wrapLibraryMethodsWithReady=function(){for(var i=0,d=It.length;i<d;i++)Ur(this,It[i])},r.prototype.createInstance=function(i){return new r(i)},r}(),Xr=new Tr;a.exports=Xr},{3:3}]},{},[4])(4)})})(Po);var Kr=Po.exports;const Re=Jr(Kr);var ye=Mr.bind(Fr);const N={},je={},So={Id:N,Name:N,ForegroundColor:N,BackgroundColor:N,BackgroundTexture:N,FontFamily:N,FontSize:N,FontWeight:N,FontStyle:N,LineHeight:N,activeScript:N,pendingScript:N,Script:N,editableValue:N,Error:N,ScriptError:N},We=Object.assign({SnapToGrid:N,GridWidth:N,GridHeight:N},So),kt=Object.assign({Index:N},We),ot=Object.assign({Lock:N,Visibility:N,Geometry:N,Index:N,Enabling:N},So);let X=new Yr;const e=X.observed,Qr={persistedProjectList:[],normalizedProjectList:[],selectedProjectName:void 0,selectedProjectIndex:void 0,Project:void 0,ProjectProperties:We,ProjectToPersist:void 0,DelayTimer:void 0,DelayLimitTimer:void 0,PersistenceRequested:!1,PersistenceState:"idle",Mode:"run",ViewState:0,BoardTree:[],BoardTreeState:0,selectedBoards:[],expandedBoards:[],BoardSelectionMayBeShiftedUp:!1,BoardSelectionMayBeShiftedDown:!1,BoardSelectionMayBeShiftedIn:!1,BoardSelectionMayBeShiftedOut:!1,chosenBoard:void 0,BoardProperties:kt,StickerList:[],StickerGeometries:[],selectedStickers:[],StickerSelectionMayBeShiftedUp:!1,StickerSelectionMayBeShiftedDown:!1,StickerSelectionProperties:ot,StickerSelectionGeometries:[],OperationHistoryState:0,mayUndoOperation:!1,mayRedoOperation:!1,ShelfIsFilled:!1,VisitHistoryState:0,mayVisitPrevBoard:!1,mayVisitNextBoard:!1,InspectorIsOpen:!1,InspectorPaneGroup:"Project",InspectorPaneChoice:"Browser",InspectorPaneIndex:0,InspectorMessage:"(no project)",ValueEditorIsOpen:!1,ValueEditorMode:"Project",ScriptEditorIsOpen:!1,ScriptEditorMode:"Project",ScriptEditorMessage:"",ConsoleIsOpen:!1,ConsoleValue:""};Object.assign(e,Qr);let Zr={},Ct={};function Qe(t,n,o,a){const u=X.existingWidgetNamed("DesignerButton");t=Ct.x+o,n=Ct.y+a;const h=X.existingScreenNamed("MainScreen"),{width:x,height:g}=h.View.base.getBoundingClientRect();t=Math.max(0,Math.min(t,x-32)),n=Math.max(0,Math.min(n,g-32)),X.updateWidget(u,{Style:`left:${t}px; top:${n}px`})}const Ze=qr(Zr,{Threshold:1,onDragStarted:(t,n,o,a)=>{const u=X.existingWidgetNamed("DesignerButton"),{left:h,top:x}=u.View.base.getBoundingClientRect();Ct={x:h,y:x},Qe(t,n,o,a)},onDragContinued:Qe,onDragFinished:Qe,onDragCancelled:Qe,onClicked:en});function en(t,n){const o=X.existingWidgetNamed("DesignerButton");o.View.base.style.visibility="hidden",he("Toolbox",t,n),e.InspectorIsOpen&&X.openDialog("Inspector"),e.ValueEditorIsOpen&&X.openDialog("ValueEditor"),e.ScriptEditorIsOpen&&X.openDialog("ScriptEditor")}function Io(){const t=X.existingWidgetNamed("DesignerButton");t.View.base.style.visibility=e.Project==null?"hidden":"visible",X.closeDialog("Toolbox"),X.closeDialog("Inspector"),X.closeDialog("ValueEditor"),X.closeDialog("ScriptEditor")}function tn(){var t,n,o;return ye`<${$r}
      Mode=${e.Mode}
      Board=${e.chosenBoard} StickerList=${e.StickerList}
      selectedStickers=${e.selectedStickers}
      onSelectionChange=${a=>{e.selectedStickers=a.slice()}}
      LassoMode="contain"
      onGeometryChange=${(a,u)=>{Nt(a,u)}}
      SnapToGrid=${((t=e.BoardProperties)==null?void 0:t.SnapToGrid)===!0}
       GridWidth=${Q((n=e.BoardProperties)==null?void 0:n.GridWidth)||10}
      GridHeight=${Q((o=e.BoardProperties)==null?void 0:o.GridHeight)||10}
    />`}const _o=ye`
    <option value="" disabled selected>please select</option>
    ${Or().map(t=>ye`
        <optgroup label="${t.GroupLabel}">
          ${on(t.BehaviorEntryList)}
        </optgroup>
      `)}
  `;function on(t){return ye`${t.map(n=>rn(n))}`}function rn(t){const{Name:n,Label:o,disabled:a}=t;return ye`<option value=${n} disabled=${a}>${o}</>`}function nn(t){const n=t.length===0;return ye`
      <option value="" disabled selected>please select</option>
      <optgroup label="from current Board">
        <option value="Board:standalone">as standalone WebApp</option>
        <option value="Board:embeddable">as embeddable Element</option>
      </optgroup>
      <optgroup label="from current Board and successors">
        <option value="Boards:standalone">as standalone WebApp</option>
        <option value="Boards:embeddable">as embeddable Element</option>
      </optgroup>
      <optgroup label="from selected Stickers">
        <option value="Stickers:standalone" disabled=${n}>as standalone WebApp</option>
        <option value="Stickers:embeddable" disabled=${n}>as embeddable Element</option>
      </optgroup>
    `}window.PUX=X;X.ImageFolder="./icons/";X.Style=`  #PUX_0 { background-image:url("/images/BinaryTexture_white.jpg") }
  #PUX_1 { left:31px; top:30px; width:161px; height:90px; right:auto; bottom:auto }

  #PUX_52 {
    left:210px; top:30px; width:32px; height:32px; right:auto; bottom:auto; 
    border:solid 1px #333333; border-radius:15px; 
  }

  #PUX_68 {
    left:3px; top:2px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/pen.png"); 
  }

  #PUX_79 { left:421px; top:629px; width:280px; height:151px; right:auto; bottom:auto }

  #PUX_80 {
    left:0px; top:31px; width:auto; height:auto; right:0px; bottom:-1px; 
    border:solid 1px #000000; 
  }

  #PUX_81 {
    left:auto; top:21px; width:24px; height:24px; right:47px; bottom:auto; 
    background-image:url("/images/trash.png"); 
  }

  #PUX_29 { left:31px; top:130px; width:130px; height:251px; right:auto; bottom:auto }

  #PUX_3 {
    left:8px; top:158px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/rotate-ccw.png"); 
  }

  #PUX_4 {
    left:37px; top:158px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/rotate-cw.png"); 
  }

  #PUX_5 {
    left:8px; top:68px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/plus.png"); 
  }

  #PUX_6 {
    left:37px; top:68px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/clone.png"); 
  }

  #PUX_7 {
    left:8px; top:127px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/scissors.png"); 
  }

  #PUX_8 {
    left:68px; top:127px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/clipboard-arrow-down.png"); 
  }

  #PUX_9 {
    left:37px; top:127px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/image133.png"); 
  }

  #PUX_34 {
    left:98px; top:127px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/minus.png"); 
  }

  #PUX_10 {
    left:68px; top:68px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/image95.png"); 
  }

  #PUX_11 {
    left:68px; top:98px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/arrow-sm-down.png"); 
  }

  #PUX_12 {
    left:37px; top:98px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/arrow-sm-up.png"); 
  }

  #PUX_22 {
    left:8px; top:98px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/arrow-sm-up.png"); 
  }

  #PUX_25 {
    left:98px; top:98px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/arrow-sm-down.png"); 
  }

  #PUX_13 {
    left:8px; top:37px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/draw-square.png"); 
  }

  #PUX_14 {
    left:98px; top:158px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/arrow-down-to-bracket.png"); 
  }

  #PUX_15 {
    left:68px; top:158px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/arrow-up-from-bracket.png"); 
  }

  #PUX_105 {
    left:68px; top:158px; width:24px; height:24px; right:auto; bottom:auto; 
    border-radius:0px; 
  }

  #PUX_16 {
    left:37px; top:37px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/pen-ruler.png"); 
  }

  #PUX_17 {
    left:37px; top:188px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/chevron-right.png"); 
  }

  #PUX_18 {
    left:8px; top:188px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/chevron-left.png"); 
  }

  #PUX_19 {
    left:98px; top:188px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/search.png"); 
  }

  #PUX_20 {
    left:68px; top:37px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/message-square-chat.png"); 
  }

  #PUX_21 {
    left:68px; top:188px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/house-line.png"); 
  }

  #PUX_30 {
    left:98px; top:217px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/printer.png"); 
  }

  #PUX_33 {
    left:98px; top:37px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/cloud-wired.png"); 
  }

  #PUX_32 {
    left:8px; top:217px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/terminal.png"); 
  }

  #PUX_31 {
    left:68px; top:217px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/clapperboard-play.png"); 
  }

  #PUX_35 {
    left:98px; top:68px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/square-code.png"); 
  }

  #PUX_57 { left:421px; top:130px; width:280px; height:220px; right:auto; bottom:auto }

  #PUX_53 {
    left:auto; top:34px; width:24px; height:24px; right:5px; bottom:auto; 
    background-image:url("/images/xmark.png"); 
  }

  #PUX_54 {
    left:auto; top:34px; width:24px; height:24px; right:36px; bottom:auto; 
    background-image:url("/images/check.png"); 
  }

  #PUX_55 {
    left:5px; top:60px; width:auto; height:auto; right:5px; bottom:30px; 
    border:solid 1px #000000; 
  }

  #PUX_56 { left:5px; top:auto; width:auto; height:29px; right:40px; bottom:1px }

  #PUX_58 {
    left:auto; top:auto; width:24px; height:24px; right:7px; bottom:3px; 
    background-image:url("/images/triangle-exclamation.png"); 
  }

  #PUX_59 {
    left:5px; top:34px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/book-open.png"); 
  }

  #PUX_60 {
    left:64px; top:34px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/square.png"); 
  }

  #PUX_61 {
    left:35px; top:34px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/file.png"); 
  }

  #PUX_43 { left:181px; top:130px; width:221px; height:251px; right:auto; bottom:auto }

  #PUX_36 {
    left:8px; top:37px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/book-open.png"); 
  }

  #PUX_37 {
    left:67px; top:37px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/square.png"); 
  }

  #PUX_38 {
    left:37px; top:37px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/file.png"); 
  }

  #PUX_39 {
    left:138px; top:37px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/sliders.png"); 
  }

  #PUX_40 {
    left:108px; top:37px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/list.png"); 
  }

  #PUX_41 { left:0px; top:60px; width:auto; height:16px; right:0px; bottom:auto }

  #PUX_42 {
    left:167px; top:37px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/square-code.png"); 
  }

  #PUX_92 {
    left:5px; top:auto; width:auto; height:29px; right:5px; bottom:3px; 
    padding:6px 0px 0px 0px;
  }

  #PUX_50 { left:0px; top:69px; width:auto; height:auto; right:0px; bottom:31px }
  #PUX_69 { left:421px; top:380px; width:280px; height:220px; right:auto; bottom:auto }

  #PUX_88 {
    left:5px; top:59px; width:auto; height:auto; right:5px; bottom:5px; 
    border:solid 1px #000000; 
  }

  #PUX_70 {
    left:5px; top:33px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/book-open.png"); 
  }

  #PUX_71 {
    left:64px; top:33px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/square.png"); 
  }

  #PUX_72 {
    left:35px; top:33px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/file.png"); 
  }

  #PUX_104 { left:31px; top:420px; width:280px; height:336px; right:auto; bottom:auto }
  #PUX_96 { left:5px; top:29px; width:147px; height:29px; right:auto; bottom:auto }

  #PUX_97 {
    left:5px; top:59px; width:auto; height:auto; right:5px; bottom:156px; 
    background-color:#eeeeee; 
    border:solid 1px #888888; border-radius:0px; 
  }

  #PUX_93 { left:5px; top:auto; width:90px; height:29px; right:auto; bottom:117px }
  #PUX_98 { left:auto; top:auto; width:90px; height:29px; right:5px; bottom:117px }
  #PUX_100 { left:5px; top:auto; width:auto; height:29px; right:5px; bottom:48px }
  #PUX_94 { left:5px; top:auto; width:147px; height:29px; right:auto; bottom:77px }
  #PUX_95 { left:5px; top:auto; width:90px; height:29px; right:auto; bottom:8px }
  #PUX_99 { left:auto; top:auto; width:90px; height:29px; right:5px; bottom:8px }
  #PUX_106 { background-image:url("/images/BinaryTexture_white_768x1024.jpg") }

  #PUX_109 {
    left:20px; top:19px; width:242px; height:610px; right:auto; bottom:auto; 
    border:dotted 1px #000000; 
  }

  #PUX_134 { left:6px; top:0px; width:221px; height:29px; right:auto; bottom:auto }
  #PUX_135 { left:6px; top:31px; width:71px; height:29px; right:auto; bottom:auto }
  #PUX_136 { left:6px; top:61px; width:71px; height:29px; right:auto; bottom:auto }
  #PUX_227 { left:95px; top:31px; width:auto; height:29px; right:7px; bottom:auto }
  #PUX_228 { left:95px; top:61px; width:auto; height:29px; right:7px; bottom:auto }
  #PUX_229 { left:auto; top:101px; width:21px; height:21px; right:6px; bottom:auto }
  #PUX_137 { left:6px; top:171px; width:90px; height:29px; right:auto; bottom:auto }
  #PUX_138 { left:6px; top:201px; width:71px; height:29px; right:auto; bottom:auto }
  #PUX_230 { left:95px; top:201px; width:auto; height:29px; right:7px; bottom:auto }
  #PUX_139 { left:6px; top:230px; width:101px; height:29px; right:auto; bottom:auto }
  #PUX_231 { left:auto; top:230px; width:53px; height:29px; right:7px; bottom:auto }
  #PUX_140 { left:6px; top:261px; width:71px; height:29px; right:auto; bottom:auto }
  #PUX_232 { left:auto; top:266px; width:21px; height:21px; right:6px; bottom:auto }
  #PUX_141 { left:6px; top:291px; width:71px; height:29px; right:auto; bottom:auto }
  #PUX_233 { left:auto; top:296px; width:21px; height:21px; right:6px; bottom:auto }
  #PUX_142 { left:6px; top:320px; width:71px; height:29px; right:auto; bottom:auto }
  #PUX_234 { left:auto; top:320px; width:40px; height:29px; right:6px; bottom:auto }
  #PUX_143 { left:6px; top:351px; width:121px; height:29px; right:auto; bottom:auto }
  #PUX_235 { left:auto; top:351px; width:53px; height:29px; right:7px; bottom:auto }
  #PUX_144 { left:6px; top:391px; width:90px; height:29px; right:auto; bottom:auto }
  #PUX_145 { left:6px; top:420px; width:71px; height:29px; right:auto; bottom:auto }
  #PUX_236 { left:auto; top:420px; width:40px; height:29px; right:6px; bottom:auto }
  #PUX_146 { left:6px; top:451px; width:71px; height:29px; right:auto; bottom:auto }
  #PUX_148 { left:6px; top:130px; width:101px; height:29px; right:auto; bottom:auto }
  #PUX_243 { left:auto; top:130px; width:52px; height:29px; right:78px; bottom:auto }
  #PUX_241 { left:auto; top:130px; width:53px; height:29px; right:7px; bottom:auto }

  #PUX_242 {
    left:auto; top:130px; width:21px; height:29px; right:59px; bottom:auto; 
    text-align:center; 
  }

  #PUX_147 { left:6px; top:101px; width:101px; height:29px; right:auto; bottom:auto }
  #PUX_237 { left:95px; top:451px; width:auto; height:29px; right:7px; bottom:auto }
  #PUX_149 { left:6px; top:491px; width:71px; height:29px; right:auto; bottom:auto }

  #PUX_240 {
    left:auto; top:491px; width:24px; height:24px; right:4px; bottom:auto; 
    background-image:url("/images/image146.png"); 
  }

  #PUX_150 {
    left:6px; top:520px; width:auto; height:auto; right:6px; bottom:9px; 
    border:solid 1px #000000; 
  }

  #PUX_110 {
    left:271px; top:19px; width:242px; height:610px; right:auto; bottom:auto; 
    border:dotted 1px #000000; 
  }

  #PUX_151 { left:5px; top:0px; width:221px; height:29px; right:auto; bottom:auto }
  #PUX_152 { left:5px; top:31px; width:71px; height:29px; right:auto; bottom:auto }
  #PUX_153 { left:5px; top:61px; width:71px; height:29px; right:auto; bottom:auto }
  #PUX_216 { left:95px; top:31px; width:auto; height:29px; right:7px; bottom:auto }
  #PUX_217 { left:95px; top:61px; width:auto; height:29px; right:7px; bottom:auto }
  #PUX_218 { left:auto; top:101px; width:21px; height:21px; right:7px; bottom:auto }
  #PUX_154 { left:5px; top:171px; width:90px; height:29px; right:auto; bottom:auto }
  #PUX_155 { left:5px; top:201px; width:71px; height:29px; right:auto; bottom:auto }
  #PUX_219 { left:95px; top:201px; width:auto; height:29px; right:7px; bottom:auto }
  #PUX_156 { left:5px; top:230px; width:101px; height:29px; right:auto; bottom:auto }
  #PUX_220 { left:auto; top:230px; width:53px; height:29px; right:7px; bottom:auto }
  #PUX_157 { left:5px; top:261px; width:71px; height:29px; right:auto; bottom:auto }
  #PUX_221 { left:auto; top:266px; width:21px; height:21px; right:7px; bottom:auto }
  #PUX_158 { left:5px; top:291px; width:71px; height:29px; right:auto; bottom:auto }
  #PUX_222 { left:auto; top:296px; width:21px; height:21px; right:7px; bottom:auto }
  #PUX_159 { left:5px; top:320px; width:71px; height:29px; right:auto; bottom:auto }
  #PUX_223 { left:auto; top:320px; width:40px; height:29px; right:7px; bottom:auto }
  #PUX_160 { left:5px; top:351px; width:121px; height:29px; right:auto; bottom:auto }
  #PUX_224 { left:auto; top:351px; width:53px; height:29px; right:7px; bottom:auto }
  #PUX_161 { left:5px; top:391px; width:90px; height:29px; right:auto; bottom:auto }
  #PUX_162 { left:5px; top:420px; width:71px; height:29px; right:auto; bottom:auto }
  #PUX_225 { left:auto; top:420px; width:40px; height:29px; right:7px; bottom:auto }
  #PUX_163 { left:5px; top:451px; width:71px; height:29px; right:auto; bottom:auto }
  #PUX_164 { left:5px; top:130px; width:101px; height:29px; right:auto; bottom:auto }
  #PUX_244 { left:auto; top:130px; width:52px; height:29px; right:79px; bottom:auto }
  #PUX_245 { left:auto; top:130px; width:53px; height:29px; right:7px; bottom:auto }

  #PUX_246 {
    left:auto; top:130px; width:21px; height:29px; right:60px; bottom:auto; 
    text-align:center; 
  }

  #PUX_165 { left:5px; top:101px; width:101px; height:29px; right:auto; bottom:auto }
  #PUX_226 { left:95px; top:451px; width:auto; height:29px; right:7px; bottom:auto }
  #PUX_166 { left:5px; top:491px; width:71px; height:29px; right:auto; bottom:auto }

  #PUX_239 {
    left:auto; top:491px; width:24px; height:26px; right:6px; bottom:auto; 
    background-image:url("/images/image146.png"); 
  }

  #PUX_167 {
    left:5px; top:520px; width:auto; height:auto; right:7px; bottom:9px; 
    border:solid 1px #000000; 
  }

  #PUX_111 {
    left:520px; top:19px; width:242px; height:791px; right:auto; bottom:auto; 
    border:dotted 1px #000000; 
  }

  #PUX_168 { left:5px; top:0px; width:221px; height:29px; right:auto; bottom:auto }
  #PUX_169 { left:5px; top:31px; width:71px; height:29px; right:auto; bottom:auto }
  #PUX_170 { left:5px; top:61px; width:71px; height:29px; right:auto; bottom:auto }
  #PUX_190 { left:95px; top:31px; width:auto; height:29px; right:7px; bottom:auto }
  #PUX_191 { left:95px; top:61px; width:auto; height:29px; right:7px; bottom:auto }
  #PUX_171 { left:5px; top:190px; width:71px; height:29px; right:auto; bottom:auto }
  #PUX_172 { left:5px; top:221px; width:71px; height:29px; right:auto; bottom:auto }
  #PUX_192 { left:auto; top:221px; width:52px; height:29px; right:77px; bottom:auto }
  #PUX_193 { left:auto; top:221px; width:53px; height:29px; right:7px; bottom:auto }

  #PUX_194 {
    left:auto; top:221px; width:21px; height:29px; right:58px; bottom:auto; 
    text-align:center; 
  }

  #PUX_195 { left:auto; top:190px; width:52px; height:31px; right:77px; bottom:auto }
  #PUX_196 { left:auto; top:190px; width:53px; height:29px; right:7px; bottom:auto }

  #PUX_197 {
    left:auto; top:190px; width:21px; height:29px; right:58px; bottom:auto; 
    text-align:center; 
  }

  #PUX_173 { left:5px; top:251px; width:71px; height:29px; right:auto; bottom:auto }

  #PUX_198 {
    left:auto; top:283px; width:24px; height:24px; right:32px; bottom:auto; 
    background-image:url("/images/arrow-sm-down.png"); 
  }

  #PUX_199 {
    left:auto; top:283px; width:24px; height:24px; right:58px; bottom:auto; 
    background-image:url("/images/arrow-sm-up.png"); 
  }

  #PUX_200 {
    left:auto; top:285px; width:21px; height:24px; right:84px; bottom:auto; 
    background-color:rgba(255, 255, 255, 0); 
    border-style:solid; border-width:2px 0px 0px 0px; border-color:#000000; 
  }

  #PUX_201 {
    left:auto; top:285px; width:24px; height:24px; right:82px; bottom:auto; 
    background-image:url("/images/arrow-sm-up.png"); 
  }

  #PUX_202 {
    left:auto; top:280px; width:21px; height:24px; right:8px; bottom:auto; 
    background-color:rgba(255, 255, 255, 0); 
    border-style:solid; border-width:0px 0px 2px 0px; border-color:#000000; 
  }

  #PUX_203 {
    left:auto; top:280px; width:24px; height:24px; right:8px; bottom:auto; 
    background-image:url("/images/arrow-sm-down.png"); 
  }

  #PUX_204 { left:auto; top:251px; width:53px; height:29px; right:7px; bottom:auto }
  #PUX_174 { left:5px; top:130px; width:90px; height:29px; right:auto; bottom:auto }
  #PUX_205 { left:auto; top:130px; width:21px; height:21px; right:5px; bottom:auto }
  #PUX_175 { left:5px; top:101px; width:221px; height:29px; right:auto; bottom:auto }
  #PUX_176 { left:5px; top:311px; width:90px; height:29px; right:auto; bottom:auto }
  #PUX_177 { left:5px; top:341px; width:71px; height:29px; right:auto; bottom:auto }
  #PUX_206 { left:95px; top:341px; width:auto; height:29px; right:7px; bottom:auto }
  #PUX_178 { left:5px; top:370px; width:101px; height:29px; right:auto; bottom:auto }
  #PUX_207 { left:auto; top:370px; width:53px; height:29px; right:7px; bottom:auto }
  #PUX_179 { left:5px; top:401px; width:71px; height:29px; right:auto; bottom:auto }
  #PUX_208 { left:auto; top:406px; width:21px; height:21px; right:5px; bottom:auto }
  #PUX_180 { left:5px; top:430px; width:71px; height:29px; right:auto; bottom:auto }
  #PUX_209 { left:auto; top:436px; width:21px; height:21px; right:5px; bottom:auto }
  #PUX_181 { left:5px; top:460px; width:81px; height:29px; right:auto; bottom:auto }
  #PUX_210 { left:auto; top:460px; width:40px; height:29px; right:7px; bottom:auto }
  #PUX_182 { left:5px; top:491px; width:121px; height:29px; right:auto; bottom:auto }
  #PUX_211 { left:auto; top:491px; width:53px; height:29px; right:7px; bottom:auto }
  #PUX_183 { left:5px; top:531px; width:90px; height:29px; right:auto; bottom:auto }
  #PUX_184 { left:5px; top:560px; width:71px; height:29px; right:auto; bottom:auto }
  #PUX_212 { left:auto; top:560px; width:40px; height:29px; right:7px; bottom:auto }
  #PUX_185 { left:5px; top:591px; width:71px; height:29px; right:auto; bottom:auto }
  #PUX_213 { left:95px; top:591px; width:auto; height:29px; right:7px; bottom:auto }
  #PUX_186 { left:5px; top:161px; width:90px; height:29px; right:auto; bottom:auto }
  #PUX_214 { left:auto; top:161px; width:21px; height:21px; right:5px; bottom:auto }
  #PUX_187 { left:5px; top:631px; width:90px; height:29px; right:auto; bottom:auto }
  #PUX_215 { left:auto; top:631px; width:21px; height:21px; right:5px; bottom:auto }
  #PUX_188 { left:5px; top:671px; width:71px; height:29px; right:auto; bottom:auto }

  #PUX_238 {
    left:auto; top:671px; width:24px; height:26px; right:5px; bottom:auto; 
    background-image:url("/images/image146.png"); 
  }

  #PUX_189 {
    left:5px; top:700px; width:auto; height:auto; right:7px; bottom:10px; 
    border:solid 1px #000000; 
  }

  #PUX_107 {
    left:20px; top:700px; width:242px; height:270px; right:auto; bottom:auto; 
    border:dotted 1px #000000; 
  }

  #PUX_112 { left:6px; top:0px; width:225px; height:29px; right:auto; bottom:auto }

  #PUX_120 {
    left:6px; top:56px; width:auto; height:auto; right:6px; bottom:43px; 
    background-color:#eeeeee; 
    border:solid 1px #888888; border-radius:0px; 
  }

  #PUX_121 { left:6px; top:auto; width:auto; height:29px; right:6px; bottom:6px }

  #PUX_119 {
    left:auto; top:24px; width:24px; height:24px; right:7px; bottom:auto; 
    background-image:url("/images/minus.png"); 
  }

  #PUX_113 {
    left:0px; top:27px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/plus.png"); 
  }

  #PUX_114 {
    left:30px; top:27px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/clone.png"); 
  }

  #PUX_115 {
    left:156px; top:24px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/arrow-sm-down.png"); 
  }

  #PUX_116 {
    left:130px; top:24px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/arrow-sm-up.png"); 
  }

  #PUX_117 {
    left:71px; top:24px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/image21.png"); 
  }

  #PUX_118 {
    left:95px; top:24px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/image23.png"); 
  }

  #PUX_108 {
    left:271px; top:700px; width:242px; height:270px; right:auto; bottom:auto; 
    border:dotted 1px #000000; 
  }

  #PUX_122 { left:5px; top:0px; width:225px; height:29px; right:auto; bottom:auto }

  #PUX_132 {
    left:5px; top:56px; width:auto; height:auto; right:7px; bottom:43px; 
    background-color:#eeeeee; 
    border:solid 1px #888888; border-radius:0px; 
  }

  #PUX_133 { left:5px; top:auto; width:auto; height:29px; right:7px; bottom:6px }

  #PUX_131 {
    left:auto; top:24px; width:24px; height:24px; right:9px; bottom:auto; 
    background-image:url("/images/minus.png"); 
  }

  #PUX_123 {
    left:0px; top:27px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/plus.png"); 
  }

  #PUX_124 {
    left:29px; top:27px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/clone.png"); 
  }

  #PUX_125 {
    left:129px; top:26px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/arrow-sm-down.png"); 
  }

  #PUX_126 {
    left:100px; top:26px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/arrow-sm-up.png"); 
  }

  #PUX_127 {
    left:71px; top:26px; width:21px; height:24px; right:auto; bottom:auto; 
    background-color:rgba(255, 255, 255, 0); 
    border-style:solid; border-width:2px 0px 0px 0px; border-color:#000000; 
  }

  #PUX_128 {
    left:69px; top:26px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/arrow-sm-up.png"); 
  }

  #PUX_129 {
    left:161px; top:26px; width:21px; height:24px; right:auto; bottom:auto; 
    background-color:rgba(255, 255, 255, 0); 
    border-style:solid; border-width:0px 0px 2px 0px; border-color:#000000; 
  }

  #PUX_130 {
    left:159px; top:26px; width:24px; height:24px; right:auto; bottom:auto; 
    background-image:url("/images/arrow-sm-down.png"); 
  }

`;X.ScreenSet={MainScreen:{Name:"MainScreen",Id:"PUX_0",Width:768,Height:1024,packedGeometry:{x:31,y:30,Width:669,Height:749},WidgetList:[{Type:"Placeholder",Name:"BoardView",Classes:"Placeholder empty Container",x:31,Width:161,y:30,Height:90,Id:"PUX_1"},{Type:"Container",Name:"DesignerButton",Classes:"Container",x:210,Width:32,y:30,Height:32,Id:"PUX_52",WidgetList:[{Type:"Icon",Classes:"Icon",Value:'url("/images/pen.png")',Color:"black",Id:"PUX_68"}]},{Type:"ResizableDialog",Name:"Console",Classes:"ResizableDialog Container",x:421,Width:280,y:629,Height:151,Id:"PUX_79",WidgetList:[{Type:"TextInput",Name:"ConsoleView",Classes:"TextInput no-resize",Anchoring:"c",Value:"(ready for operation)",Id:"PUX_80"},{Type:"Icon",Name:"ConsoleClearButton",Classes:"Icon",Anchoring:"ne",Value:'url("/images/trash.png")',Color:"black",Id:"PUX_81"}]},{Type:"Dialog",Name:"Toolbox",Classes:"Dialog Container ",x:31,Width:130,y:130,Height:251,Id:"PUX_29",WidgetList:[{Type:"Icon",Name:"UndoButton",Classes:"Icon",Value:'url("/images/rotate-ccw.png")',Color:"black",Id:"PUX_3"},{Type:"Icon",Name:"RedoButton",Classes:"Icon",Value:'url("/images/rotate-cw.png")',Color:"black",Id:"PUX_4"},{Type:"PseudoDropDown",Name:"StickerCreateButton",Classes:"PseudoDropDown",Value:'url("/images/plus.png")',Color:"black",Id:"PUX_5"},{Type:"Icon",Name:"StickerDuplicateButton",Classes:"Icon",Value:'url("/images/clone.png")',Color:"black",Id:"PUX_6"},{Type:"Icon",Name:"StickerCutButton",Classes:"Icon",Value:'url("/images/scissors.png")',Color:"black",Id:"PUX_7"},{Type:"PseudoDropDown",Name:"StickerPasteButton",Classes:"PseudoDropDown",Value:'url("/images/clipboard-arrow-down.png")',Color:"black",Id:"PUX_8"},{Type:"Icon",Name:"StickerCopyButton",Classes:"Icon",Value:'url("/images/image133.png")',Color:"black",Id:"PUX_9"},{Type:"Icon",Name:"StickerDeleteButton",Classes:"Icon",Value:'url("/images/minus.png")',Color:"black",Id:"PUX_34"},{Type:"Icon",Name:"StickerConfigureButton",Classes:"Icon",Value:'url("/images/image95.png")',Color:"black",Id:"PUX_10"},{Type:"Icon",Name:"StickerShiftDownButton",Classes:"Icon",Value:'url("/images/arrow-sm-down.png")',Color:"black",Id:"PUX_11"},{Type:"Icon",Name:"StickerShiftUpButton",Classes:"Icon",Value:'url("/images/arrow-sm-up.png")',Color:"black",Id:"PUX_12"},{Type:"Icon",Name:"StickerShiftToTopButton",Classes:"Icon",Value:'url("/images/arrow-sm-up.png")',Color:"black",Id:"PUX_22"},{Type:"Icon",Name:"StickerShiftToBottomButton",Classes:"Icon",Value:'url("/images/arrow-sm-down.png")',Color:"black",Id:"PUX_25"},{Type:"Icon",Name:"ModeButton",Classes:"Icon",Value:'url("/images/draw-square.png")',Color:"black",Id:"PUX_13"},{Type:"PseudoDropDown",Name:"ExportButton",Classes:"PseudoDropDown",Value:'url("/images/arrow-down-to-bracket.png")',Color:"black",Id:"PUX_14"},{Type:"Icon",Name:"ImportButton",Classes:"Icon",Value:'url("/images/arrow-up-from-bracket.png")',Color:"black",Id:"PUX_15"},{Type:"FileInput",Name:"FileInput",Classes:"FileInput",Placeholder:"",Id:"PUX_105"},{Type:"Icon",Name:"InspectorButton",Classes:"Icon",Value:'url("/images/pen-ruler.png")',Color:"black",Id:"PUX_16"},{Type:"Icon",Name:"VisitNextButton",Classes:"Icon",Value:'url("/images/chevron-right.png")',Color:"black",Id:"PUX_17"},{Type:"Icon",Name:"VisitPrevButton",Classes:"Icon",Value:'url("/images/chevron-left.png")',Color:"black",Id:"PUX_18"},{Type:"Icon",Name:"SearchButton",Classes:"Icon",Value:'url("/images/search.png")',Color:"black",Id:"PUX_19"},{Type:"Icon",Name:"ChatButton",Classes:"Icon",Value:'url("/images/message-square-chat.png")',Color:"black",Id:"PUX_20"},{Type:"Icon",Name:"VisitHomeButton",Classes:"Icon",Value:'url("/images/house-line.png")',Color:"black",Id:"PUX_21"},{Type:"Icon",Name:"BoardPrintButton",Classes:"Icon",Value:'url("/images/printer.png")',Color:"black",Id:"PUX_30"},{Type:"Icon",Name:"ProjectBrowserButton",Classes:"Icon",Value:'url("/images/cloud-wired.png")',Color:"black",Id:"PUX_33"},{Type:"Icon",Name:"ConsoleButton",Classes:"Icon",Value:'url("/images/terminal.png")',Color:"black",Id:"PUX_32"},{Type:"PseudoDropDown",Name:"AppletGeneratorButton",Classes:"PseudoDropDown",Value:'url("/images/clapperboard-play.png")',Color:"black",Id:"PUX_31"},{Type:"Icon",Name:"StickerScriptButton",Classes:"Icon",Value:'url("/images/square-code.png")',Color:"black",Id:"PUX_35"}]},{Type:"ResizableDialog",Name:"ScriptEditor",Classes:"ResizableDialog Container",x:421,Width:280,y:130,Height:220,Id:"PUX_57",WidgetList:[{Type:"Icon",Name:"WithdrawButton",Classes:"Icon",Anchoring:"ne",Value:'url("/images/xmark.png")',Color:"black",Id:"PUX_53"},{Type:"Icon",Name:"ApplyButton",Classes:"Icon",Anchoring:"ne",Value:'url("/images/check.png")',Color:"black",Id:"PUX_54"},{Type:"TextInput",Name:"ScriptInput",Classes:"TextInput no-resize",Anchoring:"c",Placeholder:"Enter Script",Value:"",Id:"PUX_55"},{Type:"TextView",Name:"MessageView",Classes:"TextView",Anchoring:"s",Value:"",Id:"PUX_56"},{Type:"Icon",Name:"MessageViewButton",Classes:"Icon",Anchoring:"se",Value:'url("/images/triangle-exclamation.png")',Color:"black",Id:"PUX_58"},{Type:"Icon",Name:"ProjectModeButton",Classes:"Icon",Value:'url("/images/book-open.png")',Color:"black",Id:"PUX_59"},{Type:"Icon",Name:"StickerModeButton",Classes:"Icon",Value:'url("/images/square.png")',Color:"black",Id:"PUX_60"},{Type:"Icon",Name:"BoardModeButton",Classes:"Icon",Value:'url("/images/file.png")',Color:"black",Id:"PUX_61"}]},{Type:"ResizableDialog",Name:"Inspector",Classes:"ResizableDialog Container",x:181,Width:221,y:130,Height:251,Id:"PUX_43",WidgetList:[{Type:"Icon",Name:"ProjectModeButton",Classes:"Icon",Value:'url("/images/book-open.png")',Color:"black",Id:"PUX_36"},{Type:"Icon",Name:"StickerModeButton",Classes:"Icon",Value:'url("/images/square.png")',Color:"black",Id:"PUX_37"},{Type:"Icon",Name:"BoardModeButton",Classes:"Icon",Value:'url("/images/file.png")',Color:"black",Id:"PUX_38"},{Type:"Icon",Name:"ConfigurationPaneButton",Classes:"Icon",Value:'url("/images/sliders.png")',Color:"black",Id:"PUX_39"},{Type:"Icon",Name:"BrowserPaneButton",Classes:"Icon",Value:'url("/images/list.png")',Color:"black",Id:"PUX_40"},{Type:"horizontalSeparator",Classes:"horizontalSeparator",Anchoring:"n",Id:"PUX_41"},{Type:"Icon",Name:"ScriptEditorButton",Classes:"Icon",Value:'url("/images/square-code.png")',Color:"black",Id:"PUX_42"},{Type:"Text",Name:"MessageView",Classes:"Text",Anchoring:"s",Value:"(no error found)",Id:"PUX_92"},{Type:"Deck",Name:"Deck",Classes:"Deck empty Container",Anchoring:"c",Id:"PUX_50"}]},{Type:"ResizableDialog",Name:"ValueEditor",Classes:"ResizableDialog Container",x:421,Width:280,y:380,Height:220,Id:"PUX_69",WidgetList:[{Type:"TextInput",Name:"ValueInput",Classes:"TextInput no-resize",Anchoring:"c",Placeholder:"Enter Value",Value:"",Id:"PUX_88"},{Type:"Icon",Name:"ProjectModeButton",Classes:"Icon",Value:'url("/images/book-open.png")',Color:"black",Id:"PUX_70"},{Type:"Icon",Name:"StickerModeButton",Classes:"Icon",Value:'url("/images/square.png")',Color:"black",Id:"PUX_71"},{Type:"Icon",Name:"BoardModeButton",Classes:"Icon",Value:'url("/images/file.png")',Color:"black",Id:"PUX_72"}]},{Type:"ResizableDialog",Name:"ProjectBrowser",Classes:"ResizableDialog Container",x:31,Width:280,y:420,Height:336,Id:"PUX_104",WidgetList:[{Type:"Label",Classes:"Label",Value:"Recent Projects:",Id:"PUX_96"},{Type:"FlatListView",Name:"ProjectListView",Classes:"FlatListView",Anchoring:"c",Id:"PUX_97"},{Type:"Button",Name:"ProjectOpenButton",Classes:"vertically-centered Button",Anchoring:"sw",Value:"Open",Id:"PUX_93"},{Type:"Button",Name:"ProjectPurgeButton",Classes:"vertically-centered Button",Anchoring:"se",Value:"Purge",Id:"PUX_98"},{Type:"TextlineInput",Name:"ProjectNameInput",Classes:"TextlineInput",Anchoring:"s",Placeholder:"Enter unique Project Name",Value:"",Id:"PUX_100"},{Type:"Label",Classes:"Label",Anchoring:"sw",Value:"Project Name:",Id:"PUX_94"},{Type:"Button",Name:"ProjectCreateButton",Classes:"vertically-centered Button",Anchoring:"sw",Value:"New",Id:"PUX_95"},{Type:"Button",Name:"ProjectRenameButton",Classes:"vertically-centered Button",Anchoring:"se",Value:"Rename",Id:"PUX_99"}]}]},"Stuff Screen":{Name:"Stuff Screen",Id:"PUX_106",Width:768,Height:1024,packedGeometry:{x:20,y:19,Width:741,Height:950},WidgetList:[{Type:"Card",Name:"ProjectConfigurationPane",Classes:"Card Container",x:20,Width:242,y:19,Height:610,Id:"PUX_109",WidgetList:[{Type:"Label",Classes:"Label",Value:"Project Configuration",Id:"PUX_134"},{Type:"Label",Classes:"Label",Value:"Id",Id:"PUX_135"},{Type:"Label",Classes:"Label",Value:"Name",Id:"PUX_136"},{Type:"TextlineInput",Name:"IdView",Classes:"TextlineInput readonly",Anchoring:"n",Placeholder:"",Value:"",Id:"PUX_227"},{Type:"TextlineInput",Name:"NameView",Classes:"TextlineInput readonly",Anchoring:"n",Placeholder:"",Value:"",Id:"PUX_228"},{Type:"Checkbox",Name:"SnapToGridCheck",Classes:"Checkbox",Anchoring:"ne",Value:!0,Id:"PUX_229"},{Type:"Label",Classes:"Label",Value:"Typography",Id:"PUX_137"},{Type:"Label",Classes:"Label",Value:"Font",Id:"PUX_138"},{Type:"TextlineInput",Name:"FontFamilyInput",Classes:"TextlineInput",Anchoring:"n",Placeholder:"Enter Font Family",Value:"",Id:"PUX_230"},{Type:"Label",Classes:"Label",Value:"Font Size [px]",Id:"PUX_139"},{Type:"NumberInput",Name:"FontSizeInput",Classes:"NumberInput",Anchoring:"ne",Placeholder:"",Value:"",Id:"PUX_231"},{Type:"Label",Classes:"Label",Value:"Bold",Id:"PUX_140"},{Type:"Checkbox",Name:"BoldCheck",Classes:"Checkbox",Anchoring:"ne",Value:!0,Id:"PUX_232"},{Type:"Label",Classes:"Label",Value:"Italic",Id:"PUX_141"},{Type:"Checkbox",Name:"ItalicCheck",Classes:"Checkbox",Anchoring:"ne",Value:!0,Id:"PUX_233"},{Type:"Label",Classes:"Label",Value:"Text Color",Id:"PUX_142"},{Type:"ColorInput",Name:"TextColorInput",Classes:"ColorInput",Anchoring:"ne",Id:"PUX_234"},{Type:"Label",Classes:"Label",Value:"Line Height [px]",Id:"PUX_143"},{Type:"NumberInput",Name:"LineHeightInput",Classes:"NumberInput",Anchoring:"ne",Placeholder:"",Value:"",Id:"PUX_235"},{Type:"Label",Classes:"Label",Value:"Background",Id:"PUX_144"},{Type:"Label",Classes:"Label",Value:"Color",Id:"PUX_145"},{Type:"ColorInput",Name:"BackgroundColorInput",Classes:"ColorInput",Anchoring:"ne",Id:"PUX_236"},{Type:"Label",Classes:"Label",Value:"Texture",Id:"PUX_146"},{Type:"Label",Classes:"Label",Value:"Grid Size [px]",Id:"PUX_148"},{Type:"NumberInput",Name:"GridWidthInput",Classes:"NumberInput",Anchoring:"ne",Placeholder:"W",Value:"",Id:"PUX_243"},{Type:"NumberInput",Name:"GridHeightInput",Classes:"NumberInput",Anchoring:"ne",Placeholder:"H",Value:"",Id:"PUX_241"},{Type:"Label",Classes:"Label",Anchoring:"ne",Value:"x",Id:"PUX_242"},{Type:"Label",Classes:"Label",Value:"Snap-to-Grid",Id:"PUX_147"},{Type:"URLInput",Name:"TextureInput",Classes:"URLInput",Anchoring:"n",Placeholder:"Enter URL",Value:"",Id:"PUX_237"},{Type:"Label",Classes:"Label",Value:"Value",Id:"PUX_149"},{Type:"Icon",Name:"ValueEditorButton",Classes:"Icon",Anchoring:"ne",Value:'url("/images/image146.png")',Color:"black",Id:"PUX_240"},{Type:"TextInput",Name:"ValueInput",Classes:"TextInput no-resize",Anchoring:"c",Placeholder:"Enter Value",Value:"",Id:"PUX_150"}]},{Type:"Card",Name:"BoardConfigurationPane",Classes:"Card Container",x:271,Width:242,y:19,Height:610,Id:"PUX_110",WidgetList:[{Type:"Label",Classes:"Label",Value:"Board Configuration",Id:"PUX_151"},{Type:"Label",Classes:"Label",Value:"Id",Id:"PUX_152"},{Type:"Label",Classes:"Label",Value:"Name",Id:"PUX_153"},{Type:"TextlineInput",Name:"IdView",Classes:"TextlineInput readonly",Anchoring:"n",Placeholder:"",Value:"",Id:"PUX_216"},{Type:"TextlineInput",Name:"NameInput",Classes:"TextlineInput",Anchoring:"n",Placeholder:"Enter Name",Value:"",Id:"PUX_217"},{Type:"Checkbox",Name:"SnapToGridCheck",Classes:"Checkbox",Anchoring:"ne",Value:!0,Id:"PUX_218"},{Type:"Label",Classes:"Label",Value:"Typography",Id:"PUX_154"},{Type:"Label",Classes:"Label",Value:"Font",Id:"PUX_155"},{Type:"TextlineInput",Name:"FontFamilyInput",Classes:"TextlineInput",Anchoring:"n",Placeholder:"Enter Font Family",Value:"",Id:"PUX_219"},{Type:"Label",Classes:"Label",Value:"Font Size [px]",Id:"PUX_156"},{Type:"NumberInput",Name:"FontSizeInput",Classes:"NumberInput",Anchoring:"ne",Placeholder:"",Value:"",Id:"PUX_220"},{Type:"Label",Classes:"Label",Value:"Bold",Id:"PUX_157"},{Type:"Checkbox",Name:"BoldCheck",Classes:"Checkbox",Anchoring:"ne",Value:!0,Id:"PUX_221"},{Type:"Label",Classes:"Label",Value:"Italic",Id:"PUX_158"},{Type:"Checkbox",Name:"ItalicCheck",Classes:"Checkbox",Anchoring:"ne",Value:!0,Id:"PUX_222"},{Type:"Label",Classes:"Label",Value:"Text Color",Id:"PUX_159"},{Type:"ColorInput",Name:"TextColorInput",Classes:"ColorInput",Anchoring:"ne",Id:"PUX_223"},{Type:"Label",Classes:"Label",Value:"Line Height [px]",Id:"PUX_160"},{Type:"NumberInput",Name:"LineHeightInput",Classes:"NumberInput",Anchoring:"ne",Placeholder:"",Value:"",Id:"PUX_224"},{Type:"Label",Classes:"Label",Value:"Background",Id:"PUX_161"},{Type:"Label",Classes:"Label",Value:"Color",Id:"PUX_162"},{Type:"ColorInput",Name:"BackgroundColorInput",Classes:"ColorInput",Anchoring:"ne",Id:"PUX_225"},{Type:"Label",Classes:"Label",Value:"Texture",Id:"PUX_163"},{Type:"Label",Classes:"Label",Value:"Grid Size [px]",Id:"PUX_164"},{Type:"NumberInput",Name:"GridWidthInput",Classes:"NumberInput",Anchoring:"ne",Placeholder:"W",Value:"",Id:"PUX_244"},{Type:"NumberInput",Name:"GridHeightInput",Classes:"NumberInput",Anchoring:"ne",Placeholder:"H",Value:"",Id:"PUX_245"},{Type:"Label",Classes:"Label",Anchoring:"ne",Value:"x",Id:"PUX_246"},{Type:"Label",Classes:"Label",Value:"Snap-to-Grid",Id:"PUX_165"},{Type:"URLInput",Name:"TextureInput",Classes:"URLInput",Anchoring:"n",Placeholder:"Enter URL",Value:"",Id:"PUX_226"},{Type:"Label",Classes:"Label",Value:"Value",Id:"PUX_166"},{Type:"Icon",Name:"ValueEditorButton",Classes:"Icon",Anchoring:"ne",Value:'url("/images/image146.png")',Color:"black",Id:"PUX_239"},{Type:"TextInput",Name:"ValueInput",Classes:"TextInput no-resize",Anchoring:"c",Placeholder:"Enter Value",Value:"",Id:"PUX_167"}]},{Type:"Card",Name:"StickerConfigurationPane",Classes:"Card Container",x:520,Width:242,y:19,Height:791,Id:"PUX_111",WidgetList:[{Type:"Label",Classes:"Label",Value:"Sticker Configuration",Id:"PUX_168"},{Type:"Label",Classes:"Label",Value:"Id",Id:"PUX_169"},{Type:"Label",Classes:"Label",Value:"Name",Id:"PUX_170"},{Type:"TextlineInput",Name:"IdView",Classes:"TextlineInput readonly",Anchoring:"n",Placeholder:"",Value:"",Id:"PUX_190"},{Type:"TextlineInput",Name:"NameInput",Classes:"TextlineInput",Anchoring:"n",Placeholder:"Enter Name",Value:"",Id:"PUX_191"},{Type:"Label",Classes:"Label",Value:"Position",Id:"PUX_171"},{Type:"Label",Classes:"Label",Value:"Size",Id:"PUX_172"},{Type:"NumberInput",Name:"WidthInput",Classes:"NumberInput",Anchoring:"ne",Placeholder:"W",Value:"",Id:"PUX_192"},{Type:"NumberInput",Name:"HeightInput",Classes:"NumberInput",Anchoring:"ne",Placeholder:"H",Value:"",Id:"PUX_193"},{Type:"Label",Classes:"Label",Anchoring:"ne",Value:"x",Id:"PUX_194"},{Type:"NumberInput",Name:"xInput",Classes:"NumberInput",Anchoring:"ne",Placeholder:"x",Value:"",Id:"PUX_195"},{Type:"NumberInput",Name:"yInput",Classes:"NumberInput",Anchoring:"ne",Placeholder:"y",Value:"",Id:"PUX_196"},{Type:"Label",Classes:"Label",Anchoring:"ne",Value:",",Id:"PUX_197"},{Type:"Label",Classes:"Label",Value:"Layer",Id:"PUX_173"},{Type:"Icon",Name:"ShiftDownButton",Classes:"Icon",Anchoring:"ne",Value:'url("/images/arrow-sm-down.png")',Color:"black",Id:"PUX_198"},{Type:"Icon",Name:"ShiftUpButton",Classes:"Icon",Anchoring:"ne",Value:'url("/images/arrow-sm-up.png")',Color:"black",Id:"PUX_199"},{Type:"Box",Classes:"",Anchoring:"ne",Id:"PUX_200"},{Type:"Icon",Name:"ShiftToTopButton",Classes:"Icon",Anchoring:"ne",Value:'url("/images/arrow-sm-up.png")',Color:"black",Id:"PUX_201"},{Type:"Box",Classes:"",Anchoring:"ne",Id:"PUX_202"},{Type:"Icon",Name:"ShiftToBottomButton",Classes:"Icon",Anchoring:"ne",Value:'url("/images/arrow-sm-down.png")',Color:"black",Id:"PUX_203"},{Type:"NumberInput",Name:"IndexView",Classes:"NumberInput",Anchoring:"ne",Placeholder:"Layer",Value:"",Id:"PUX_204"},{Type:"Label",Classes:"Label",Value:"Lock",Id:"PUX_174"},{Type:"Checkbox",Name:"LockCheck",Classes:"Checkbox",Anchoring:"ne",Value:!0,Id:"PUX_205"},{Type:"Label",Classes:"Label",Value:"Layout and Visibility",Id:"PUX_175"},{Type:"Label",Classes:"Label",Value:"Typography",Id:"PUX_176"},{Type:"Label",Classes:"Label",Value:"Font",Id:"PUX_177"},{Type:"TextlineInput",Name:"FontFamilyInput",Classes:"TextlineInput",Anchoring:"n",Placeholder:"Enter Font Family",Value:"",Id:"PUX_206"},{Type:"Label",Classes:"Label",Value:"Font Size [px]",Id:"PUX_178"},{Type:"NumberInput",Name:"FontSizeInput",Classes:"NumberInput",Anchoring:"ne",Placeholder:"",Value:"",Id:"PUX_207"},{Type:"Label",Classes:"Label",Value:"Bold",Id:"PUX_179"},{Type:"Checkbox",Name:"BoldCheck",Classes:"Checkbox",Anchoring:"ne",Value:!0,Id:"PUX_208"},{Type:"Label",Classes:"Label",Value:"Italic",Id:"PUX_180"},{Type:"Checkbox",Name:"ItalicCheck",Classes:"Checkbox",Anchoring:"ne",Value:!0,Id:"PUX_209"},{Type:"Label",Classes:"Label",Value:"Text Color",Id:"PUX_181"},{Type:"ColorInput",Name:"TextColorInput",Classes:"ColorInput",Anchoring:"ne",Id:"PUX_210"},{Type:"Label",Classes:"Label",Value:"Line Height [px]",Id:"PUX_182"},{Type:"NumberInput",Name:"LineHeightInput",Classes:"NumberInput",Anchoring:"ne",Placeholder:"",Value:"",Id:"PUX_211"},{Type:"Label",Classes:"Label",Value:"Background",Id:"PUX_183"},{Type:"Label",Classes:"Label",Value:"Color",Id:"PUX_184"},{Type:"ColorInput",Name:"BackgroundColorInput",Classes:"ColorInput",Anchoring:"ne",Id:"PUX_212"},{Type:"Label",Classes:"Label",Value:"Texture",Id:"PUX_185"},{Type:"URLInput",Name:"TextureInput",Classes:"URLInput",Anchoring:"n",Placeholder:"Enter URL",Value:"",Id:"PUX_213"},{Type:"Label",Classes:"Label",Value:"Visibility",Id:"PUX_186"},{Type:"Checkbox",Name:"VisibilityCheck",Classes:"Checkbox",Anchoring:"ne",Value:!0,Id:"PUX_214"},{Type:"Label",Classes:"Label",Value:"Enabling",Id:"PUX_187"},{Type:"Checkbox",Name:"EnablingCheck",Classes:"Checkbox",Anchoring:"ne",Value:!0,Id:"PUX_215"},{Type:"Label",Classes:"Label",Value:"Value",Id:"PUX_188"},{Type:"Icon",Name:"ValueEditorButton",Classes:"Icon",Anchoring:"ne",Value:'url("/images/image146.png")',Color:"black",Id:"PUX_238"},{Type:"TextInput",Name:"ValueInput",Classes:"TextInput no-resize",Anchoring:"c",Placeholder:"Enter Value",Value:"",Id:"PUX_189"}]},{Type:"Card",Name:"BoardBrowserPane",Classes:"Card Container",x:20,Width:242,y:700,Height:270,Id:"PUX_107",WidgetList:[{Type:"Label",Classes:"Label",Value:"Board Browser",Id:"PUX_112"},{Type:"NestedListView",Name:"BoardTreeView",Classes:"NestedListView",Anchoring:"c",Id:"PUX_120"},{Type:"TextlineInput",Name:"BoardNameInput",Classes:"TextlineInput",Anchoring:"s",Placeholder:"Name",Value:"",Id:"PUX_121"},{Type:"Icon",Name:"BoardDeleteButton",Classes:"Icon",Anchoring:"ne",Value:'url("/images/minus.png")',Color:"black",Id:"PUX_119"},{Type:"Icon",Name:"BoardCreateButton",Classes:"Icon",Value:'url("/images/plus.png")',Color:"black",Id:"PUX_113"},{Type:"Icon",Name:"BoardDuplicateButton",Classes:"Icon",Value:'url("/images/clone.png")',Color:"black",Id:"PUX_114"},{Type:"Icon",Name:"BoardShiftDownButton",Classes:"Icon",Value:'url("/images/arrow-sm-down.png")',Color:"black",Id:"PUX_115"},{Type:"Icon",Name:"BoardShiftUpButton",Classes:"Icon",Value:'url("/images/arrow-sm-up.png")',Color:"black",Id:"PUX_116"},{Type:"Icon",Name:"BoardShiftOutButton",Classes:"Icon",Value:'url("/images/image21.png")',Color:"black",Id:"PUX_117"},{Type:"Icon",Name:"BoardShiftInButton",Classes:"Icon",Value:'url("/images/image23.png")',Color:"black",Id:"PUX_118"}]},{Type:"Card",Name:"StickerBrowserPane",Classes:"Card Container",x:271,Width:242,y:700,Height:270,Id:"PUX_108",WidgetList:[{Type:"Label",Classes:"Label",Value:"Sticker Browser",Id:"PUX_122"},{Type:"FlatListView",Name:"StickerListView",Classes:"FlatListView",Anchoring:"c",Id:"PUX_132"},{Type:"TextlineInput",Name:"StickerNameInput",Classes:"TextlineInput",Anchoring:"s",Placeholder:"Name",Value:"",Id:"PUX_133"},{Type:"Icon",Name:"StickerDeleteButton",Classes:"Icon",Anchoring:"ne",Value:'url("/images/minus.png")',Color:"black",Id:"PUX_131"},{Type:"PseudoDropDown",Name:"StickerCreateButton",Classes:"PseudoDropDown",Value:'url("/images/plus.png")',Color:"black",Id:"PUX_123"},{Type:"Icon",Name:"StickerDuplicateButton",Classes:"Icon",Value:'url("/images/clone.png")',Color:"black",Id:"PUX_124"},{Type:"Icon",Name:"StickerShiftDownButton",Classes:"Icon",Value:'url("/images/arrow-sm-down.png")',Color:"black",Id:"PUX_125"},{Type:"Icon",Name:"StickerShiftUpButton",Classes:"Icon",Value:'url("/images/arrow-sm-up.png")',Color:"black",Id:"PUX_126"},{Type:"Box",Classes:"",Id:"PUX_127"},{Type:"Icon",Name:"StickerShiftToTopButton",Classes:"Icon",Value:'url("/images/arrow-sm-up.png")',Color:"black",Id:"PUX_128"},{Type:"Box",Classes:"",Id:"PUX_129"},{Type:"Icon",Name:"StickerShiftToBottomButton",Classes:"Icon",Value:'url("/images/arrow-sm-down.png")',Color:"black",Id:"PUX_130"}]}]}};X.extractAllDialogs();X.stuff({Inspector:{Deck:{from:"Stuff Screen",with:["BoardBrowserPane","StickerBrowserPane","ProjectConfigurationPane","BoardConfigurationPane","StickerConfigurationPane"]}}});const s=X.updatedFrom;X.configure({MainScreen:{self:{Style:"left:0px; top:0px; right:0px; bottom:0px; width:auto; height:auto"},BoardView:{Style:"left:0px; top:0px; right:0px; bottom:0px; width:auto; height:auto",Substitute:tn,Rendering:s(()=>{})},DesignerButton:{Style:"left:auto; top:10px; right:10px; bottom:auto; background:white; visibility:hidden",onPointerDown:Ze,onPointerMove:Ze,onPointerUp:Ze,onPointerCancel:Ze}},ProjectBrowser:{self:{Title:"Project Browser",x:-1,y:-1,Style:"z-index:2000000",closeable:s(()=>e.Project!=null)},ProjectListView:{List:s(()=>e.persistedProjectList),Placeholder:"(no projects found)",selectedIndices:s(()=>e.selectedProjectIndex==null?[]:[e.selectedProjectIndex]),SelectionLimit:1,onSelectionChange:t=>{if(t.length===0)e.selectedProjectName=void 0,e.selectedProjectIndex=void 0,e.ProjectName=void 0;else{const n=t[0];e.selectedProjectName=e.persistedProjectList[n],e.selectedProjectIndex=n,e.ProjectName=e.selectedProjectName}}},ProjectOpenButton:{disabled:s(()=>e.selectedProjectIndex==null||vt(e.selectedProjectName)),onClick:()=>cn(e.selectedProjectName)},ProjectPurgeButton:{disabled:s(()=>e.selectedProjectIndex==null||vt(e.selectedProjectName)),onClick:()=>un(e.selectedProjectName)},ProjectNameInput:{Value:s(()=>e.ProjectName),onInput:t=>e.ProjectName=t.target.value},ProjectCreateButton:{disabled:s(()=>!go(e.ProjectName)),onClick:()=>sn(e.ProjectName)},ProjectRenameButton:{disabled:s(()=>e.selectedProjectIndex==null||vt(e.selectedProjectName)||!go(e.ProjectName)),onClick:()=>dn(e.selectedProjectName,e.ProjectName)}},Toolbox:{self:{Title:"Toolbox",x:-1,y:-1,Style:"z-index:2000000",onClose:Io},ModeButton:{disabled:s(()=>e.chosenBoard==null),Style:s(()=>e.Mode==="edit"?"background:#e8f0ff; outline:solid 2px #e8f0ff":""),onClick:()=>pn()},InspectorButton:{disabled:s(()=>e.Project==null),Style:s(()=>e.InspectorIsOpen?"background:#e8f0ff; outline:solid 2px lightgray; border-radius:4px":""),onClick:t=>he("Inspector",t.clientX,t.clientY)},ChatButton:{disabled:!0},ProjectBrowserButton:{Style:s(()=>e.ProjectBrowserIsOpen?"background:#e8f0ff; outline:solid 2px lightgray; border-radius:4px":""),onClick:t=>he("ProjectBrowser",t.clientX,t.clientY)},StickerCreateButton:{disabled:s(()=>e.chosenBoard==null),Options:_o,onInput:t=>{wo(t.target.value),t.target.value=""}},StickerDuplicateButton:{disabled:s(()=>!(e.chosenBoard!=null&&e.selectedStickers.length>0)),onClick:()=>Bo(e.selectedStickers)},StickerConfigureButton:{disabled:s(()=>!(e.chosenBoard!=null&&e.selectedStickers.length>0)),onClick:t=>{he("Inspector",t.clientX,t.clientY),et("Stickers"),Bt("Configuration")}},StickerScriptButton:{disabled:s(()=>e.Project==null),Style:s(()=>e.ScriptEditorIsOpen?"background:#e8f0ff; outline:solid 2px lightgray; border-radius:4px":""),onClick:t=>he("ScriptEditor",t.clientX,t.clientY)},StickerShiftToTopButton:{Style:"border-top:solid 2px black",disabled:s(()=>!(e.chosenBoard!=null&&e.selectedStickers.length>0&&e.StickerSelectionMayBeShiftedDown)),onClick:()=>Vt(e.selectedStickers)},StickerShiftUpButton:{disabled:s(()=>!(e.chosenBoard!=null&&e.selectedStickers.length>0&&e.StickerSelectionMayBeShiftedDown)),onClick:()=>Xt(e.selectedStickers)},StickerShiftDownButton:{disabled:s(()=>!(e.chosenBoard!=null&&e.selectedStickers.length>0&&e.StickerSelectionMayBeShiftedUp)),onClick:()=>Tt(e.selectedStickers)},StickerShiftToBottomButton:{Style:"border-bottom:solid 2px black",disabled:s(()=>!(e.chosenBoard!=null&&e.selectedStickers.length>0&&e.StickerSelectionMayBeShiftedUp)),onClick:()=>Ut(e.selectedStickers)},StickerCutButton:{disabled:s(()=>!(e.chosenBoard!=null&&e.selectedStickers.length>0)),onClick:()=>vn(e.selectedStickers)},StickerCopyButton:{disabled:s(()=>!(e.chosenBoard!=null&&e.selectedStickers.length>0)),onClick:()=>kn(e.selectedStickers)},StickerPasteButton:{disabled:s(()=>!(e.chosenBoard!=null&&e.ShelfIsFilled)),Options:["close to current selection","at original place"],onInput:t=>{if(t.target.value==="close to current selection"){const{minX:n,minY:o}=jo(e.selectedStickers);Un(n,o)}else Cn();t.target.value=""}},StickerDeleteButton:{disabled:s(()=>!(e.chosenBoard!=null&&e.selectedStickers.length>0)),onClick:()=>Et(e.selectedStickers)},UndoButton:{disabled:s(()=>!e.mayUndoOperation),onClick:()=>Tn()},RedoButton:{disabled:s(()=>!e.mayRedoOperation),onClick:()=>Xn()},ImportButton:{disabled:s(()=>e.Project==null)},FileInput:{Style:"border:none",disabled:s(()=>e.Project==null),Value:"",Placeholder:"",accept:".json,application/json",onChange:t=>fo(t.target.files[0]),onDrop:t=>fo(t.dataTransfer.files[0])},ExportButton:{disabled:s(()=>e.Project==null),Options:["whole Project","active Board","selected Stickers"],onInput:t=>{En(t.target.value),t.target.value=""}},VisitPrevButton:{disabled:s(()=>!e.mayVisitPrevBoard),onClick:()=>Vn()},VisitNextButton:{disabled:s(()=>!e.mayVisitNextBoard),onClick:()=>Nn()},VisitHomeButton:{disabled:s(()=>e.BoardTree.length===0||e.chosenBoard===e.BoardTree[0]),onClick:()=>{var t;return vo((t=e.Project)==null?void 0:t.Board(0))}},SearchButton:{disabled:!0},ConsoleButton:{Style:s(()=>e.ConsoleIsOpen?"background:#e8f0ff; outline:solid 2px lightgray; border-radius:4px":""),onClick:t=>he("Console",t.clientX,t.clientY)},AppletGeneratorButton:{disabled:s(()=>e.chosenBoard==null),Options:s(()=>nn(e.selectedStickers)),onInput:t=>{const n=e.chosenBoard;if(n==null)return;const[o,a]=t.target.value.split(":");switch(t.target.value="",o){case"Board":return jn(n,a);case"Boards":return An(n,a);case"Stickers":default:return Ln(e.selectedStickers,a)}}},BoardPrintButton:{disabled:s(()=>e.chosenBoard==null),onClick:()=>Dn()}},Inspector:{self:{Title:"Inspector",x:-1,y:-1,minWidth:300,minHeight:460,Width:300,Height:460,Style:"z-index:2000000",onOpen:()=>e.InspectorIsOpen=!0,onClose:()=>e.InspectorIsOpen=!1},ProjectModeButton:{disabled:s(()=>e.Project==null),Style:s(()=>e.InspectorPaneGroup==="Project"?"background:#e8f0ff; outline:solid 2px lightgray; border-radius:4px":""),onClick:()=>et("Project")},BoardModeButton:{disabled:s(()=>e.Project==null),Style:s(()=>e.InspectorPaneGroup==="Board"?"background:#e8f0ff; outline:solid 2px lightgray; border-radius:4px":""),onClick:()=>et("Board")},StickerModeButton:{disabled:s(()=>e.Project==null),Style:s(()=>e.InspectorPaneGroup==="Stickers"?"background:#e8f0ff; outline:solid 2px lightgray; border-radius:4px":""),onClick:()=>et("Stickers")},BrowserPaneButton:{disabled:s(()=>e.Project==null||e.InspectorPaneGroup==="Stickers"),Style:s(()=>e.InspectorPaneChoice==="Browser"?"background:#e8f0ff; outline:solid 2px lightgray; border-radius:4px":""),onClick:()=>Bt("Browser")},ConfigurationPaneButton:{disabled:s(()=>e.Project==null),Style:s(()=>e.InspectorPaneChoice==="Configuration"?"background:#e8f0ff; outline:solid 2px lightgray; border-radius:4px":""),onClick:()=>Bt("Configuration")},ScriptEditorButton:{disabled:s(()=>e.Project==null),onClick:t=>{he("ScriptEditor",t.clientX,t.clientY),e.ScriptEditorMode=e.InspectorPaneGroup}},Deck:{Style:"overflow-x:hidden; overflow-y:scroll; overflow:hidden scroll",Value:s(()=>e.InspectorPaneIndex)},MessageView:{Value:s(()=>e.InspectorMessage)}},ValueEditor:{self:{Title:"Value Editor",x:-1,y:-1,Style:"z-index:2000000",onOpen:()=>e.ValueEditorIsOpen=!0,onClose:()=>e.ValueEditorIsOpen=!1},ProjectModeButton:{disabled:s(()=>e.Project==null),Style:s(()=>e.ValueEditorMode==="Project"?"background:#e8f0ff; outline:solid 2px lightgray; border-radius:4px":""),onClick:()=>e.ValueEditorMode="Project"},BoardModeButton:{disabled:s(()=>e.Project==null),Style:s(()=>e.ValueEditorMode==="Board"?"background:#e8f0ff; outline:solid 2px lightgray; border-radius:4px":""),onClick:()=>e.ValueEditorMode="Board"},StickerModeButton:{disabled:s(()=>e.Project==null),Style:s(()=>e.ValueEditorMode==="Stickers"?"background:#e8f0ff; outline:solid 2px lightgray; border-radius:4px":""),onClick:()=>e.ValueEditorMode="Stickers"},ValueInput:{disabled:s(()=>e.ValueEditorMode==="Project"?e.Project==null:e.ValueEditorMode==="Board"?e.chosenBoard==null:e.selectedStickers.length===0),Value:s(()=>e.ValueEditorMode==="Project"?L(e.ProjectProperties.editableValue):e.ValueEditorMode==="Board"?L(e.BoardProperties.editableValue):L(e.StickerSelectionProperties.editableValue)),Placeholder:s(()=>e.ValueEditorMode==="Project"?"(enter project value)":e.ValueEditorMode==="Board"?"(enter a value for the currently active board)":"(enter a common value for all currently selected stickers)"),onInput:t=>{switch(e.ValueEditorMode){case"Project":return e.Project==null?void 0:oe(e.Project,"editableValue",t.target.value);case"Board":return e.chosenBoard==null?void 0:Z(e.chosenBoard,"editableValue",t.target.value);case"Stickers":default:return $(e.selectedStickers,"editableValue",t.target.value)}}}},ScriptEditor:{self:{Title:"Script Editor",x:-1,y:-1,Style:"z-index:2000000",onOpen:()=>e.ScriptEditorIsOpen=!0,onClose:()=>e.ScriptEditorIsOpen=!1},ProjectModeButton:{disabled:s(()=>e.Project==null),Style:s(()=>e.ScriptEditorMode==="Project"?"background:#e8f0ff; outline:solid 2px lightgray; border-radius:4px":""),onClick:()=>e.ScriptEditorMode="Project"},BoardModeButton:{disabled:s(()=>e.Project==null),Style:s(()=>e.ScriptEditorMode==="Board"?"background:#e8f0ff; outline:solid 2px lightgray; border-radius:4px":""),onClick:()=>e.ScriptEditorMode="Board"},StickerModeButton:{disabled:s(()=>e.Project==null),Style:s(()=>e.ScriptEditorMode==="Stickers"?"background:#e8f0ff; outline:solid 2px lightgray; border-radius:4px":""),onClick:()=>e.ScriptEditorMode="Stickers"},ScriptInput:{Style:"white-space:pre",disabled:s(()=>e.ScriptEditorMode==="Project"?e.Project==null:e.ScriptEditorMode==="Board"?e.chosenBoard==null:e.selectedStickers.length===0),Value:s(()=>e.ScriptEditorMode==="Project"?L(e.ProjectProperties.Script):e.ScriptEditorMode==="Board"?L(e.BoardProperties.Script):L(e.StickerSelectionProperties.Script)),Placeholder:s(()=>e.ScriptEditorMode==="Project"?"(enter project script)":e.ScriptEditorMode==="Board"?"(enter script for the currently active board)":"(enter common script for all currently selected stickers)"),onInput:t=>{switch(e.ScriptEditorMode){case"Project":return e.Project==null?void 0:oe(e.Project,"pendingScript",t.target.value);case"Board":return e.chosenBoard==null?void 0:Z(e.chosenBoard,"pendingScript",t.target.value);case"Stickers":default:return $(e.selectedStickers,"pendingScript",t.target.value)}}},ApplyButton:{disabled:s(()=>e.ScriptEditorMode==="Project"||e.ScriptEditorMode==="Board"?e.ProjectProperties.Script===e.ProjectProperties.activeScript:e.StickerSelectionProperties.Script===e.StickerSelectionProperties.activeScript),onClick:()=>{switch(e.ScriptEditorMode){case"Project":return e.Project==null?void 0:hn(e.Project);case"Board":return e.chosenBoard==null?void 0:xn(e.chosenBoard);case"Stickers":default:return wn(e.selectedStickers)}}},WithdrawButton:{disabled:!0,onClick:()=>{switch(e.ScriptEditorMode){case"Project":return e.Project==null?void 0:fn(e.Project);case"Board":return e.chosenBoard==null?void 0:bn(e.chosenBoard);case"Stickers":default:return Bn(e.selectedStickers)}}},MessageView:{Style:"bottom:0px; font-size:13px; padding-top:3px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis",Value:s(()=>gi(e.ScriptEditorMode==="Project"||e.ScriptEditorMode==="Board"?e.ProjectProperties.ScriptError:e.StickerSelectionProperties.ScriptError))},MessageViewButton:{Style:"bottom:3px",disabled:s(()=>!Rr(e.ScriptEditorMode==="Project"||e.ScriptEditorMode==="Board"?e.ProjectProperties.ScriptError:e.StickerSelectionProperties.ScriptError)),onClick:()=>mi(e.ScriptEditorMode==="Project"||e.ScriptEditorMode==="Board"?e.ProjectProperties.ScriptError:e.StickerSelectionProperties.ScriptError)}},Console:{self:{Title:"Console",x:-1,y:-1,Style:"z-index:2000000",onOpen:()=>e.ConsoleIsOpen=!0,onClose:()=>e.ConsoleIsOpen=!1},ConsoleClearButton:{Style:"top:2px; z-index:1",disabled:s(()=>e.ConsoleValue===""),onClick:()=>lt()},ConsoleView:{Style:"bottom:0px; border:solid 4px transparent; color:green",readonly:!0,Value:s(()=>e.ConsoleValue)}}});X.configure({"Stuff Screen":{BoardBrowserPane:{BoardTreeView:{List:s(()=>(e.BoardTreeState,e.chosenBoard,e.BoardTree)),LabelOfItem:t=>t.Name,ContentListOfItem:t=>t.BoardList,ItemRenderer:(t,n)=>{const o=e.chosenBoard===t?"font-weight:bold; text-decoration:underline":void 0;return t.Name==null?ye`<div class="ItemLabel" style=${o}><i>(unnamed)</i></div>`:ye`<div class="ItemLabel" style=${o}>${t.Name}</div>`},SelectionMode:"same-container",SelectionLimit:Number.MAX_SAFE_INTEGER,selectedPaths:s(()=>(e.BoardTreeState,xo(e.selectedBoards))),onSelectionChange:t=>e.selectedBoards=bo(t),onItemDoubleClicked:t=>vo(t),expandedPaths:s(()=>(e.BoardTreeState,xo(e.expandedBoards))),onExpansionChange:t=>e.expandedBoards=bo(t)},BoardCreateButton:{disabled:s(()=>e.Project==null),onClick:()=>gn(e.selectedBoards)},BoardDuplicateButton:{disabled:s(()=>e.selectedBoards.length===0),onClick:()=>mn(e.selectedBoards)},BoardShiftOutButton:{disabled:s(()=>!e.BoardSelectionMayBeShiftedOut),onClick:()=>Sn(e.selectedBoards)},BoardShiftInButton:{disabled:s(()=>!e.BoardSelectionMayBeShiftedIn),onClick:()=>Pn(e.selectedBoards)},BoardShiftUpButton:{disabled:s(()=>!e.BoardSelectionMayBeShiftedUp),onClick:()=>In(e.selectedBoards)},BoardShiftDownButton:{disabled:s(()=>!e.BoardSelectionMayBeShiftedDown),onClick:()=>_n(e.selectedBoards)},BoardDeleteButton:{disabled:s(()=>e.selectedBoards.length===0),onClick:()=>yn(e.selectedBoards)},BoardNameInput:{disabled:s(()=>e.selectedBoards.length!==1),Value:s(()=>e.BoardTreeState&&L(e.selectedBoards.length===0?N:e.selectedBoards.length===1?e.selectedBoards[0].Name:je)),onInput:t=>{e.selectedBoards.length===1&&Z(e.selectedBoards[0],"Name",t.target.value)}}},StickerBrowserPane:{StickerListView:{List:s(()=>(e.ViewState,e.StickerList)),ItemRenderer:t=>t.Name==null?'<div class="ItemLabel"><i>(unnamed)</i></div>':`<div class="ItemLabel">${t.Name}</div>`,Placeholder:"(board is empty)",selectedIndices:s(()=>(e.ViewState,e.selectedStickers.map(t=>t.Index))),SelectionLimit:Number.MAX_SAFE_INTEGER,onSelectionChange:t=>{const n=e.chosenBoard;n!=null&&(e.selectedStickers=t.map(o=>n.Sticker(o)))}},StickerCreateButton:{disabled:s(()=>e.chosenBoard==null),Options:_o,onInput:t=>{wo(t.target.value),t.target.value=""}},StickerDuplicateButton:{disabled:s(()=>e.selectedStickers.length==0),onClick:()=>Bo(e.selectedStickers)},StickerShiftToTopButton:{disabled:s(()=>!e.StickerSelectionMayBeShiftedUp),onClick:()=>Ut(e.selectedStickers)},StickerShiftUpButton:{disabled:s(()=>!e.StickerSelectionMayBeShiftedUp),onClick:()=>Tt(e.selectedStickers)},StickerShiftDownButton:{disabled:s(()=>!e.StickerSelectionMayBeShiftedDown),onClick:()=>Xt(e.selectedStickers)},StickerShiftToBottomButton:{disabled:s(()=>!e.StickerSelectionMayBeShiftedDown),onClick:()=>Vt(e.selectedStickers)},StickerDeleteButton:{disabled:s(()=>e.selectedStickers.length===0),onClick:()=>Et(e.selectedStickers)},StickerNameInput:{disabled:s(()=>e.selectedStickers.length===0),Value:s(()=>L(e.StickerSelectionProperties.Name)),onInput:t=>$(e.selectedStickers,"Name",t.target.value)}},ProjectConfigurationPane:{IdView:{readonly:!0,Value:s(()=>L(e.ProjectProperties.Id))},NameInput:{readonly:!0,Value:s(()=>L(e.ProjectProperties.Name))},SnapToGridCheck:{disabled:s(()=>e.Project==null),Value:s(()=>de(e.ProjectProperties.SnapToGrid)),onInput:t=>{e.Project!=null&&oe(e.Project,"SnapToGrid",t.target.checked)}},GridWidthInput:{min:0,step:1,disabled:s(()=>e.Project==null),Value:s(()=>Q(e.ProjectProperties.GridWidth)),onInput:t=>{e.Project!=null&&oe(e.Project,"GridWidth",parseInt(t.target.value,10))}},GridHeightInput:{min:0,step:1,disabled:s(()=>e.Project==null),Value:s(()=>Q(e.ProjectProperties.GridHeight)),onInput:t=>{e.Project!=null&&oe(e.Project,"GridHeight",parseInt(t.target.value,10))}},FontFamilyInput:{disabled:s(()=>e.Project==null),Value:s(()=>L(e.ProjectProperties.FontFamily)),onInput:t=>{e.Project!=null&&oe(e.Project,"FontFamily",t.target.value)}},FontSizeInput:{min:0,step:1,disabled:s(()=>e.Project==null),Value:s(()=>Q(e.ProjectProperties.FontSize)),onInput:t=>{e.Project!=null&&oe(e.Project,"FontSize",parseInt(t.target.value,10))}},BoldCheck:{disabled:s(()=>e.Project==null),Value:s(()=>de(e.ProjectProperties.FontWeight,700)),onInput:t=>{e.Project!=null&&oe(e.Project,"FontWeight",t.target.checked?700:400)}},ItalicCheck:{disabled:s(()=>e.Project==null),Value:s(()=>de(e.ProjectProperties.FontStyle,"italic")),onInput:t=>{e.Project!=null&&oe(e.Project,"FontStyle",t.target.checked?"italic":"normal")}},TextColorInput:{disabled:s(()=>e.Project==null),Value:s(()=>L(e.ProjectProperties.ForegroundColor)),onInput:t=>{e.Project!=null&&oe(e.Project,"ForegroundColor",t.target.value)}},LineHeightInput:{min:0,step:1,disabled:s(()=>e.Project==null),Value:s(()=>Q(e.ProjectProperties.LineHeight)),onInput:t=>{e.Project!=null&&oe(e.Project,"LineHeight",parseInt(t.target.value,10))}},BackgroundColorInput:{disabled:s(()=>e.Project==null),Value:s(()=>L(e.ProjectProperties.BackgroundColor)),onInput:t=>{e.Project!=null&&oe(e.Project,"BackgroundColor",t.target.value)}},TextureInput:{disabled:s(()=>e.Project==null),Value:s(()=>L(e.ProjectProperties.BackgroundTexture)),onInput:t=>{e.Project!=null&&oe(e.Project,"BackgroundTexture",t.target.value)}},ValueInput:{Style:"min-height:100px",disabled:s(()=>e.Project==null),Value:s(()=>L(e.ProjectProperties.editableValue)),Placeholder:s(()=>"(enter a value for the currently active board)"),onInput:t=>{e.Project!=null&&oe(e.Project,"editableValue",t.target.value)}},ValueEditorButton:{onClick:t=>{he("ValueEditor",t.clientX,t.clientY),e.ValueEditorMode="Project"}}},BoardConfigurationPane:{IdView:{readonly:!0,Value:s(()=>L(e.BoardProperties.Id))},NameInput:{disabled:s(()=>e.chosenBoard==null),Value:s(()=>L(e.BoardProperties.Name)),onInput:t=>{e.chosenBoard!=null&&Z(e.chosenBoard,"Name",t.target.value)}},SnapToGridCheck:{disabled:s(()=>e.chosenBoard==null),Value:s(()=>de(e.BoardProperties.SnapToGrid)),onInput:t=>{e.chosenBoard!=null&&Z(e.chosenBoard,"SnapToGrid",t.target.checked)}},GridWidthInput:{min:0,step:1,disabled:s(()=>e.chosenBoard==null),Value:s(()=>Q(e.BoardProperties.GridWidth)),onInput:t=>{e.chosenBoard!=null&&Z(e.chosenBoard,"GridWidth",parseInt(t.target.value,10))}},GridHeightInput:{min:0,step:1,disabled:s(()=>e.chosenBoard==null),Value:s(()=>Q(e.BoardProperties.GridHeight)),onInput:t=>{e.chosenBoard!=null&&Z(e.chosenBoard,"GridHeight",parseInt(t.target.value,10))}},FontFamilyInput:{disabled:s(()=>e.chosenBoard==null),Value:s(()=>L(e.BoardProperties.FontFamily)),onInput:t=>{e.chosenBoard!=null&&Z(e.chosenBoard,"FontFamily",t.target.value)}},FontSizeInput:{min:0,step:1,disabled:s(()=>e.chosenBoard==null),Value:s(()=>Q(e.BoardProperties.FontSize)),onInput:t=>{e.chosenBoard!=null&&Z(e.chosenBoard,"FontSize",parseInt(t.target.value,10))}},BoldCheck:{disabled:s(()=>e.chosenBoard==null),Value:s(()=>de(e.BoardProperties.FontWeight,700)),onInput:t=>{e.chosenBoard!=null&&Z(e.chosenBoard,"FontWeight",t.target.checked?700:400)}},ItalicCheck:{disabled:s(()=>e.chosenBoard==null),Value:s(()=>de(e.BoardProperties.FontStyle,"italic")),onInput:t=>{e.chosenBoard!=null&&Z(e.chosenBoard,"FontStyle",t.target.checked?"italic":"normal")}},TextColorInput:{disabled:s(()=>e.chosenBoard==null),Value:s(()=>L(e.BoardProperties.ForegroundColor)),onInput:t=>{e.chosenBoard!=null&&Z(e.chosenBoard,"ForegroundColor",t.target.value)}},LineHeightInput:{min:0,step:1,disabled:s(()=>e.chosenBoard==null),Value:s(()=>Q(e.BoardProperties.LineHeight)),onInput:t=>{e.chosenBoard!=null&&Z(e.chosenBoard,"LineHeight",parseInt(t.target.value,10))}},BackgroundColorInput:{disabled:s(()=>e.chosenBoard==null),Value:s(()=>L(e.BoardProperties.BackgroundColor)),onInput:t=>{e.chosenBoard!=null&&Z(e.chosenBoard,"BackgroundColor",t.target.value)}},TextureInput:{disabled:s(()=>e.chosenBoard==null),Value:s(()=>L(e.BoardProperties.BackgroundTexture)),onInput:t=>{e.chosenBoard!=null&&Z(e.chosenBoard,"BackgroundTexture",t.target.value)}},ValueInput:{Style:"min-height:100px",disabled:s(()=>e.chosenBoard==null),Value:s(()=>L(e.BoardProperties.editableValue)),Placeholder:s(()=>"(enter a value for the currently active board)"),onInput:t=>{e.chosenBoard!=null&&Z(e.chosenBoard,"editableValue",t.target.value)}},ValueEditorButton:{onClick:t=>{he("ValueEditor",t.clientX,t.clientY),e.ValueEditorMode="Board"}}},StickerConfigurationPane:{IdView:{readonly:!0,Value:s(()=>L(e.StickerSelectionProperties.Id))},NameInput:{disabled:s(()=>e.selectedStickers.length===0),Value:s(()=>L(e.StickerSelectionProperties.Name)),onInput:t=>$(e.selectedStickers,"Name",t.target.value)},LockCheck:{disabled:s(()=>e.selectedStickers.length===0),Value:s(()=>de(e.StickerSelectionProperties.Lock)),onInput:t=>$(e.selectedStickers,"Lock",t.target.checked)},VisibilityCheck:{disabled:s(()=>e.selectedStickers.length===0),Value:s(()=>de(e.StickerSelectionProperties.Visibility)),onInput:t=>$(e.selectedStickers,"Visibility",t.target.checked)},xInput:{step:1,disabled:s(()=>e.selectedStickers.length===0),Value:s(()=>Q(e.StickerSelectionProperties.Geometry.x)),onInput:t=>$(e.selectedStickers,"x",parseInt(t.target.value,10))},yInput:{step:1,disabled:s(()=>e.selectedStickers.length===0),Value:s(()=>Q(e.StickerSelectionProperties.Geometry.y)),onInput:t=>$(e.selectedStickers,"y",parseInt(t.target.value,10))},WidthInput:{min:0,step:1,disabled:s(()=>e.selectedStickers.length===0),Value:s(()=>Q(e.StickerSelectionProperties.Geometry.Width)),onInput:t=>$(e.selectedStickers,"Width",parseInt(t.target.value,10))},HeightInput:{min:0,step:1,disabled:s(()=>e.selectedStickers.length===0),Value:s(()=>Q(e.StickerSelectionProperties.Geometry.Height)),onInput:t=>$(e.selectedStickers,"Height",parseInt(t.target.value,10))},IndexView:{readonly:!0,Value:s(()=>Q(e.StickerSelectionProperties.Index))},ShiftToTopButton:{disabled:s(()=>!e.StickerSelectionMayBeShiftedDown),onClick:()=>Vt(e.selectedStickers)},ShiftUpButton:{disabled:s(()=>!e.StickerSelectionMayBeShiftedDown),onClick:()=>Xt(e.selectedStickers)},ShiftDownButton:{disabled:s(()=>!e.StickerSelectionMayBeShiftedUp),onClick:()=>Tt(e.selectedStickers)},ShiftToBottomButton:{disabled:s(()=>!e.StickerSelectionMayBeShiftedUp),onClick:()=>Ut(e.selectedStickers)},FontFamilyInput:{disabled:s(()=>e.selectedStickers.length===0),Value:s(()=>L(e.StickerSelectionProperties.FontFamily)),onInput:t=>$(e.selectedStickers,"FontFamily",t.target.value)},FontSizeInput:{min:0,step:1,disabled:s(()=>e.selectedStickers.length===0),Value:s(()=>Q(e.StickerSelectionProperties.FontSize)),onInput:t=>$(e.selectedStickers,"FontSize",parseInt(t.target.value,10))},BoldCheck:{disabled:s(()=>e.selectedStickers.length===0),Value:s(()=>de(e.StickerSelectionProperties.FontWeight,700)),onInput:t=>$(e.selectedStickers,"FontWeight",t.target.checked?700:400)},ItalicCheck:{disabled:s(()=>e.selectedStickers.length===0),Value:s(()=>de(e.StickerSelectionProperties.FontStyle,"italic")),onInput:t=>$(e.selectedStickers,"FontStyle",t.target.checked?"italic":"normal")},TextColorInput:{disabled:s(()=>e.selectedStickers.length===0),Value:s(()=>L(e.StickerSelectionProperties.ForegroundColor)),onInput:t=>$(e.selectedStickers,"ForegroundColor",t.target.value)},LineHeightInput:{min:0,step:1,disabled:s(()=>e.selectedStickers.length===0),Value:s(()=>Q(e.StickerSelectionProperties.LineHeight)),onInput:t=>$(e.selectedStickers,"LineHeight",parseInt(t.target.value,10))},BackgroundColorInput:{disabled:s(()=>e.selectedStickers.length===0),Value:s(()=>L(e.StickerSelectionProperties.BackgroundColor)),onInput:t=>$(e.selectedStickers,"BackgroundColor",t.target.value)},TextureInput:{disabled:s(()=>e.selectedStickers.length===0),Value:s(()=>L(e.StickerSelectionProperties.BackgroundTexture)),onInput:t=>$(e.selectedStickers,"BackgroundTexture",t.target.value)},EnablingCheck:{disabled:s(()=>e.selectedStickers.length===0),Value:s(()=>de(e.StickerSelectionProperties.Enabling)),onInput:t=>$(e.selectedStickers,"Enabling",t.target.checked)},ValueInput:{Style:"min-height:100px",disabled:s(()=>e.selectedStickers.length===0),Value:s(()=>L(e.StickerSelectionProperties.editableValue)),Placeholder:s(()=>"(enter a common value for all currently selected stickers)"),onInput:t=>$(e.selectedStickers,"editableValue",t.target.value)},ValueEditorButton:{onClick:t=>{he("ValueEditor",t.clientX,t.clientY),e.ValueEditorMode="Stickers"}}}}});X.startWithScreen("MainScreen");X.renderInto(document.body);const an=X.existingWidgetNamed("BoardView").View;function et(t){t==="Stickers"&&e.InspectorPaneChoice==="Browser"&&(e.InspectorPaneChoice="Configuration"),e.InspectorPaneGroup=t,yo()}function Bt(t){e.InspectorPaneGroup==="Stickers"&&t==="Browser"&&(t="Configuration"),e.InspectorPaneChoice=t,yo()}function yo(){const t={Project:{Browser:0,Configuration:2},Board:{Browser:1,Configuration:3},Stickers:{Browser:1,Configuration:4}},n=e.InspectorPaneGroup,o=e.InspectorPaneChoice;e.InspectorPaneIndex=t[n][o]}function he(t,n,o){let a=X.existingDialogNamed(t);if(a.x===-1&&a.y===-1){const{Width:u,Height:h}=a,x=X.existingScreenNamed("MainScreen"),{width:g,height:y}=x.View.base.getBoundingClientRect();a.x=Math.max(0,Math.min(n,g-u)),a.y=Math.max(0,Math.min(o,y-h))}X.openDialog(t)}function ln(t){let n=X.existingDialogNamed(t);if(n.x===-1&&n.y===-1){const{Width:o,Height:a}=n,u=X.existingScreenNamed("MainScreen"),{width:h,height:x}=u.View.base.getBoundingClientRect();n.x=Math.max(0,Math.round((h-o)/2)),n.y=Math.max(0,Math.round((x-a)/2))}X.openDialog(t)}async function sn(t){Co()&&Ve(),await Mn(t),await ko(t),X.closeDialog("ProjectBrowser")}async function cn(t){Co()&&Ve(),await ko(t),X.closeDialog("ProjectBrowser")}function dn(t,n){jt("Do you really want to rename project "+ee(t)+" to "+ee(n)+"?")&&On(t,n)}function un(t){jt("Do you really want to delete project "+ee(t)+"?")&&Rn(t)}function pn(){const t=e.Mode;e.Mode=t==="edit"?"run":"edit"}function oe(t,n,o){R(new st(t,n,o))}function hn(t){zt(t)}function fn(t){R(new st(t,"pendingScript",void 0)),t.ScriptError=void 0}function gn(t){let n,o;if(t.length>0)n=t[0].Folder,o=Ge(t)+1;else{const a=e.chosenBoard;a==null?(n=e.Project,o=0):(n=a.Folder,o=a.Index+1)}R(new Vo(n,[{}],o))}function mn(t){const n=Ue(t),o=Ce(t),a=n.map(h=>h.Serialization),u=t[t.length-1].Index+1;R(new Vo(o,a,u))}function Z(t,n,o){R(new ct(t,n,o))}function xn(t){zt(t)}function bn(t){R(new ct(t,"pendingScript",void 0)),t.ScriptError=void 0}function Pn(t){const n=Ce(t),o=Ue(t),a=n.Board(Ge(t)+1);a!=null&&(R(new dt(n,o,a,0)),e.expandedBoards.indexOf(a)<0&&(e.expandedBoards=e.expandedBoards.concat(a)))}function Sn(t){const n=Ce(t),o=Ue(t),a=n.Folder;a!=null&&R(new dt(n,o,a,n.Index))}function In(t){const n=Ue(t),o=Ce(t),a=Math.max(0,Ot(t)-1),u=n.map((h,x)=>a+x);R(new ut(o,n,u))}function _n(t){const n=Ue(t),o=Ce(t),a=Math.min(Ge(t)+1,o.BoardCount-1)+1-t.length,u=n.map((h,x)=>a+x);R(new ut(o,n,u))}function yn(t){R(new li(Ue(t)))}function wo(t){const n=e.chosenBoard;if(n==null)return;const o=e.selectedStickers,a=o.length===0?n.StickerCount:He(o)+1;R(new pt(n,[zr(t)],a))}function Bo(t){const n=e.chosenBoard;if(n==null)return;const o=me(t).map(h=>h.Serialization),a=He(t)+1;R(new pt(n,o,a));const u=e.selectedStickers;if(u.length>0){const h=u.map(x=>{const g=x.Geometry;return g.x+=20,g.y+=20,g});Nt(u,h)}}function $(t,n,o){R(new ht(t,n,o))}function wn(t){t.forEach(n=>zt(n))}function Bn(t){R(new ht(t,"pendingScript",void 0)),t.forEach(n=>{n.ScriptError=void 0})}function Nt(t,n){R(new Mt(t,n))}function Ut(t){R(new Ae(me(t),t.map((n,o)=>o)))}function Tt(t){const n=me(t),o=Math.max(0,Rt(t)-1),a=n.map((u,h)=>o+h);R(new Ae(n,a))}function Xt(t){const n=me(t),o=Le(t);if(o==null)return;const a=Math.min(He(t)+1,o.StickerCount-1)+1-t.length,u=n.map((h,x)=>a+x);R(new Ae(n,u))}function Vt(t){const n=me(t),o=Le(t);if(o==null)return;const a=o.StickerCount-t.length,u=n.map((h,x)=>a+x);R(new Ae(n,u))}function Et(t){R(new si(me(t)))}function vn(t){fe.splice(0,fe.length),t=me(t),t.forEach(n=>{const o=n.Serialization;fe.push(o)}),Et(t),e.ShelfIsFilled=fe.length>0}function kn(t){fe.splice(0,fe.length),t=me(t),t.forEach(n=>{const o=n.Serialization;ze(o),fe.push(o)}),e.ShelfIsFilled=fe.length>0}function Cn(){if(!e.ShelfIsFilled)return;const t=e.chosenBoard;t!=null&&R(new pt(t,fe.slice(),t.StickerCount))}function Un(t,n){if(!e.ShelfIsFilled)return;const o=e.chosenBoard;if(o==null)return;R(new pt(o,fe.slice(),o.StickerCount));const a=e.selectedStickers,{minX:u,minY:h}=jo(a),x=t-u,g=n-h,y=a.map(C=>{const O=C.Geometry;return O.x+=x,O.y+=g,O});Nt(a,y)}function Tn(){Yn()}function Xn(){qn()}function Vn(){Jn()}function Nn(){Kn()}function vo(t){Y(t)}function fo(t){let n=new FileReader;n.onabort=function(){alert("import was aborted")},n.onerror=function(){alert("import failed")},n.onload=function(a){let u=new TextDecoder().decode(n.result);console.log("Reader.onload");const h=e.Project;if(h==null)return;const x=e.chosenBoard;try{let g=JSON.parse(u);if(po(g)){if(x==null){window.alert("please prepare a board to import stickers into");return}g.forEach(C=>ze(C));const y=g.map(C=>x.StickerDeserializedAt(C));y.forEach(C=>C.activateScript()),ke(y);return}if(g.StickerList!=null){if(h==null){window.alert("please prepare a project to import this board into");return}const y=x==null?h:x.Folder,C=x==null?0:x.Index+1;ze(g);const O=y.BoardDeserializedAt(g,C);O.recursivelyActivateAllScripts(),Y(O);return}(x==null||jt())&&(h.clear(),Object.keys(We).forEach(y=>{y!=="Id"&&y!=="Name"&&g[y]!=null&&(h[y]=g[y])}),po(g.BoardList)&&g.BoardList.forEach(y=>h.BoardDeserializedAt(y)),h.recursivelyActivateAllScripts())}catch(g){console.error(g),alert("import failed")}},n.readAsArrayBuffer(t)}function En(t){let n,o;switch(t){case"whole Project":const x=e.Project;if(x==null)return;o=x.Name||"SNS-Project",n=x.Serialization;break;case"active Board":const g=e.chosenBoard;if(g==null){window.alert("no active board");return}o=g.Name||"SNS-Board",n=g.Serialization;break;case"selected Stickers":default:const y=e.selectedStickers;if(y.length===0){window.alert("no stickers selected");return}o="SNS-Stickers",n=y.map(C=>C.Serialization)}const a=JSON.stringify(n),u=new TextEncoder().encode(a),h=new TextDecoder().decode(u);a===h?download(u,o+".json","application/json;charset=utf-8"):window.alert("this export is not safe")}function jn(t,n){ni(t,n)}function An(t,n){ii(t,n)}function Ln(t,n){ai(t,n)}function Dn(){window.print()}function jt(t){let n=Math.round(Math.random()*1e4).toString();return n+="0000".slice(n.length),t=(t||"This operation can not be undone.")+`

Please, enter the following number if you want to proceed:

   `+n+`

Otherwise, the operation will be cancelled`,window.prompt(t,"")===n?!0:(window.alert("Operation will be cancelled"),!1)}let Pe;function Fn(t){return{Id:ho(),Name:t,SnapToGrid:!1,GridWidth:10,GridHeight:10,BoardList:[{Id:ho()}]}}async function Ee(){let t;try{t=(await Pe.keys()).sort()}catch(o){console.warn("could not fetch names of persisted projects",o)}e.persistedProjectList=t;let n=e.persistedProjectList.map(o=>o.toLowerCase());if(e.normalizedProjectList=n,e.selectedProjectName!=null){let o=n.indexOf(e.selectedProjectName.toLowerCase());o<0?(e.selectedProjectName=void 0,e.selectedProjectIndex=void 0):(e.selectedProjectName=t[o],e.selectedProjectIndex=o)}}async function Mn(t){let n=t.toLowerCase();e.normalizedProjectList.indexOf(n)>=0&&T("ProjectExists: a project named "+ee(t)+" exists already");const o=Fn(t);try{await Pe.setItem(t,JSON.stringify(o))}catch(a){T("PersistenceWriteError: could not write project "+ee(t)+", reason: "+a)}await Ee(),e.selectedProjectName=t,e.selectedProjectIndex=e.normalizedProjectList.indexOf(n)}async function On(t,n){await Ee();let o=e.normalizedProjectList;o.indexOf(t.toLowerCase())<0&&T("NoSuchProject: a project named "+ee(t)+" does not exist"),o.indexOf(n.toLowerCase())>=0&&T("ProjectExists: a project named "+ee(n)+" exists already");let a={};try{a=JSON.parse(await Pe.getItem(t))}catch(u){T("PersistenceReadError: could not read project "+ee(t)+", reason: "+u)}a.Name=n;try{await Pe.setItem(n,JSON.stringify(a))}catch(u){T("PersistenceWriteError: could not write project "+ee(n)+", reason: "+u)}try{await Pe.removeItem(t)}catch(u){T("PersistenceWriteError: could not delete project "+ee(t)+", reason: "+u)}e.selectedProjectName!=null&&e.selectedProjectName.toLowerCase()===t.toLowerCase()&&(e.selectedProjectName=n),await Ee()}async function ko(t){await Ee(),e.normalizedProjectList.indexOf(t.toLowerCase())<0&&T("NoSuchProject: a project named "+ee(t)+" does not exist");let o={};try{o=JSON.parse(await Pe.getItem(t))}catch(a){T("PersistenceReadError: could not read project "+ee(t)+", reason: "+a)}try{e.Project=Wr.deserializedFrom(t,o),e.Project.onChange(Gn),e.Project.onRender(Hn),e.Project.onError($n),e.Project.recursivelyActivateAllScripts(),window.Project=e.Project,Io()}catch(a){T("DeserializationError: could not deserialize project "+ee(t)+", reason: "+a)}}async function Rn(t){try{await Pe.removeItem(t)}catch(n){T("PersistenceWriteError: could not delete project "+ee(t)+", reason: "+n)}e.selectedProjectName!=null&&e.selectedProjectName.toLowerCase()===t.toLowerCase()&&(e.selectedProjectName=t),await Ee()}function zn(t){e.ProjectToPersist=t,e.DelayTimer==null?(e.DelayTimer=setTimeout(Ve,1*1e3),e.DelayLimitTimer=setTimeout(Ve,60*1e3)):(clearTimeout(e.DelayTimer),e.DelayTimer=setTimeout(Ve,1*1e3))}function Wn(){e.ProjectToPersist=void 0,e.DelayTimer!=null&&(clearTimeout(e.DelayTimer),e.DelayTimer=void 0),e.DelayLimitTimer!=null&&(clearTimeout(e.DelayLimitTimer),e.DelayLimitTimer=void 0)}function Co(){return e.ProjectToPersist!=null}async function Ve(){const t=e.ProjectToPersist;Wn(),e.PersistenceState==="running"&&(e.PersistenceRequested=!0),e.PersistenceRequested=!1,e.PersistenceState="running";try{await Pe.setItem(t.Name,JSON.stringify(t.Serialization)),e.PersistenceState="idle"}catch{T("PersistenceFailure: could not persist project "+ee(t.Name)),e.PersistenceState="failed"}e.PersistenceRequested&&Ve()}function go(t){return Gr(e.ProjectName)&&e.normalizedProjectList.indexOf(t.toLowerCase())<0}function vt(t){return e.Project!=null&&e.Project.Name.toLowerCase()!==t.toLowerCase()}function Gn(t,n,...o){switch(zn(t),n){case"attachBoard":case"detachBoard":e.BoardTree=t.BoardList,e.BoardTreeState++;return;case"configureFolder":switch(o[1]==="Name"&&e.BoardTreeState++,o[0]){case e.Project:e.ProjectProperties=No(t),e.BoardProperties=tt(e.chosenBoard),e.StickerSelectionProperties=Oe(e.selectedStickers),e.ViewState++;return;case e.chosenBoard:e.BoardProperties=tt(e.chosenBoard),e.StickerSelectionProperties=Oe(e.selectedStickers),e.ViewState++;return;default:o[0].containsFolder(e.chosenBoard)&&(e.BoardProperties=tt(e.chosenBoard),e.StickerSelectionProperties=Oe(e.selectedStickers),e.ViewState++)}return;case"attachSticker":case"detachSticker":o[1]===e.chosenBoard&&(e.StickerList=e.chosenBoard.StickerList,e.ViewState++);return;case"configureSticker":if(o[0].Board===e.chosenBoard){const a=e.selectedStickers;o[1]==="Geometry"&&(e.StickerSelectionGeometries=a.map(u=>u.Geometry)),e.StickerSelectionProperties=Oe(a),e.ViewState++}return}}function Hn(t,n,o){(n===e.chosenBoard||e.chosenBoard==null)&&an.rerender()}function $n(t,n,o){window.alert(o.Type+`
`+o.Message+`
`+o.Cause)}function we(t){if(Dr("list of boards to be selected",t,Hr),t.length===0){e.selectedBoards=[];return}try{const n=Ce(t),o=new Set;t.forEach(a=>o.add(a)),e.selectedBoards=Ue(Array.from(o.values()))}catch{e.selectedBoards=[],console.error("InternalError:selected boards do not share the same folder")}}function rt(t){e.chosenBoard=t!=null&&t.isAttached?t:void 0}function ke(t){if(t.length===0){e.selectedStickers=[];return}const n=new Set,o=e.chosenBoard;t.forEach(a=>{a.isAttached&&a.Board===o&&n.add(a)}),e.selectedStickers=me(Array.from(n.values()))}const ve=[];let ue=0;function R(t){M(),ue<ve.length&&(ve.length=ue);let n;const o=ve[ue-1];return o!=null&&t.canExtend(o)?(n=t.extend(o),o.isIrrelevant&&(ue-=1)):(n=t.doNow(),ve.push(t),ue+=1),e.OperationHistoryState++,n}function Yn(){M();let t=ve[ue-1];if(t!=null){const n=t.undo();return ue-=1,e.OperationHistoryState++,n}}function qn(){M();let t=ve[ue];if(t!=null){const n=t.redo();return ue+=1,e.OperationHistoryState++,n}}const fe=[];let re=[],J=-1;function Jn(){e.mayVisitPrevBoard&&(J-=1,rt(re[J]),e.VisitHistoryState++)}function Kn(){e.mayVisitNextBoard&&(J+=1,rt(re[J]),e.VisitHistoryState++)}function Y(t){if(t==null)rt(void 0),re.length=0,J=-1;else{if(re[J]===t)return;e.mayVisitNextBoard?(J+=1,re[J]!==t&&(re[J]=t,re.length=J+1)):(re.push(t),J+=1),rt(t)}e.VisitHistoryState++}function Qn(){var t;for(let n=re.length-1;n>=0;n--)(re[n]==null||!re[n].isAttached)&&J>=n&&(J-=1);J<0&&re.length>0&&(J=0),Y(re[J]||((t=e.Project)==null?void 0:t.BoardList[0]))}const At=105e4,Lt=2e4;let nt=0,it=0;function Zn(){X.openDialog("Console")}function ei(){X.closeDialog("Console")}function lt(){e.ConsoleValue="",nt=0,it=0}function Uo(...t){To(Xo(t))}function ti(...t){To(Xo(t.concat(`
`)))}function To(t){if(t==="")return;let n=mo(t),o=t.length;n>Lt||o>At?(lt(),t=oi(t,n,o),nt=mo(t)+1,it=t.length,e.ConsoleValue=t):(ri(n,o),nt+=n,it+=o,e.ConsoleValue+=t)}function oi(t,n,o){let a=n-Lt,u=o-At;for(let h=0,x=-1;;)if(x=t.indexOf(`
`,x+1),h+=1,h>=a&&x>=u)return t.slice(x+1)}function ri(t,n){let o=nt+t-Lt,a=it+n-At;if(o<=0&&a<=0)return;let u=e.Console.Value;for(let h=0,x=-1;;){if(x=u.indexOf(`
`,x+1),x<0){lt();return}if(h+=1,h>=o&&x-h*28>=a){e.Console.Value=u.slice(x+1);return}}}function mo(t){let n=t.match(/\n/g);return n===null?0:n.length}function Xo(t){let n="";for(let o=0;o<t.length;o++){let a=t[o];switch(typeof a){case"undefined":n+="(undefined)";break;case"boolean":n+=a.toString();break;case"number":n+=a.toString();break;case"string":n+=a;break;case"function":n+="(function)";break;case"object":n+=a===null?"(null)":a.toString();break;default:n+="(unknown)";break}}return n}Object.assign(window,{Console:{show:Zn,hide:ei,clear:lt,print:Uo,println:ti}});function ni(t,n){const o=t.Name||t.Project.Name||"Note-Stickers Applet";let a=0,u=0;t.StickerList.forEach(x=>{const{Width:g,Height:y}=x;a<g&&(a=g),u<y&&(u=y)});const h={x:0,y:0,Width:a,Height:u,BoardList:[t.Serialization]};n==="standalone"?Dt(o,h):Ft(o,h)}function ii(t,n){const o=t.Name||t.Project.Name||"Note-Stickers Applet",a=t.Folder.BoardList.slice(t.Index);let u=0,h=0;a.forEach(g=>{g.StickerList.forEach(y=>{const{Width:C,Height:O}=y;u<C&&(u=C),h<O&&(h=O)})});const x={x:0,y:0,Width:u,Height:h,BoardList:a.map(g=>g.Serialization)};n==="standalone"?Dt(o,x):Ft(o,x)}function ai(t,n){const o=Le(t);if(o==null)return;const a=me(t),u=a[0].Name||o.Name||o.Project.Name||"Note-Stickers Applet",h=a.map(D=>D.Serialization);let[x,g,y,C]=[1/0,1/0,0,0];h.forEach(D=>{const{x:z,y:te,Width:W,Height:ce}=D.Geometry;x=Math.min(x,z),y=Math.max(y,z+W),g=Math.min(g,te),C=Math.max(C,te+ce)}),h.forEach(D=>{D.Geometry.x-=x,D.Geometry.y-=g});const O=y-x,_=C-g,k={x:0,y:0,Width:O,Height:_,BoardList:[{StickerList:h,activeScript:o.activeScript}]};n==="standalone"?Dt(u,k):Ft(u,k)}function Dt(t,n){const o=`
<!DOCTYPE html>
<html lang="en" charset="utf-8" style="width:100%">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

  <meta name="viewport" content="minimal-ui, width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>

  <meta name="apple-mobile-web-app-capable"          content="yes"/>
  <meta name="apple-mobile-web-app-status-bar-style" content="black"/>
  <meta name="format-detection"                      content="telephone=no">

  <style name="mobile-prologue">
    html {
      text-size-adjust: 100%;
      -moz-text-size-adjust: 100%;
      -webkit-text-size-adjust: 100%;
      -o-text-size-adjust: 100%;
      -ms-text-size-adjust: 100%;
    }

    html, body { width:100%; height:100%; width:100vw; height:100vh; margin:0px; padding:0px }
    html       { overflow:hidden scroll }
  </style>
  <script src="https://rozek.github.io/note-stickers/dist/note-stickers-runtime.js"><\/script>
  <script type="Note-Stickers" name="${t}">
${JSON.stringify(n)}
  <\/script>
 </head>
 <body type="Note-Stickers" name="${t}">
 </body>
</html>
    `.trim(),a=new TextEncoder().encode(o),u=new TextDecoder().decode(a);o===u?download(a,t+".html","text/html;charset=utf-8"):window.alert("this applet generation is not stable")}function Ft(t,n){const o=`
  <script type="Note-Stickers" name="${t}">
${JSON.stringify(n)}
  <\/script>
  <div type="Note-Stickers" name="${t}">
  </div>
    `.trim(),a=new TextEncoder().encode(o),u=new TextDecoder().decode(a);o===u?download(a,t+".html","text/html;charset=utf-8"):window.alert("this applet generation is not stable")}function M(){e.InspectorMessage=""}function B(t){e.InspectorMessage=t.trim()}ge(()=>{console.log("was changed: Application.Project");const t=e.Project;t==null?(e.BoardTree=[],e.BoardTreeState=0,e.ProjectProperties=We):(e.BoardTree=t.BoardList,e.BoardTreeState++,e.ProjectProperties=No(t))});ge(()=>{console.log("was changed: Application.BoardTreeState"),e.BoardTreeState,Qn()});ge(()=>{console.log("was changed: Application.BoardTreeState/selectedBoards/expandedBoards"),e.BoardTreeState,e.selectedBoards=e.BoardTree.length===0?[]:e.selectedBoards.filter(n=>n!=null&&n.isAttached),e.expandedBoards=e.BoardTree.length===0?[]:e.expandedBoards.filter(n=>n!=null&&n.isAttached);const t=e.selectedBoards;e.BoardSelectionMayBeShiftedUp=ci(t),e.BoardSelectionMayBeShiftedDown=Eo(t),e.BoardSelectionMayBeShiftedIn=di(t),e.BoardSelectionMayBeShiftedOut=ui(t)});ge(()=>{console.log("was changed: Application.chosenBoard");const t=e.chosenBoard;e.BoardProperties=tt(t),e.StickerList=t==null?[]:t.StickerList,e.ViewState++});ge(()=>{console.log("was changed: Application.StickerList"),e.StickerGeometries=e.StickerList.map(t=>t.Geometry)});ge(()=>{console.log("was changed: Application.chosenBoard/StickerList/selectedStickers");const t=e.chosenBoard;e.StickerList,e.selectedStickers=e.selectedStickers.filter(o=>o.isAttached&&o.Board===t);const n=e.selectedStickers;e.StickerSelectionGeometries=n.map(o=>o.Geometry),e.StickerSelectionProperties=Oe(n),e.StickerSelectionMayBeShiftedUp=hi(n),e.StickerSelectionMayBeShiftedDown=fi(n)});ge(()=>{switch(console.log("was changed: Application.ScriptEditorMode/Project/Board/StickerSelectionProperties"),e.ScriptEditorMode){case"Project":e.ScriptEditorValue=e.Project==null?N:e.ProjectProperties.Script||"";break;case"Board":e.ScriptEditorValue=e.chosenBoard==null?N:e.BoardProperties.Script||"";break;case"Stickers":e.ScriptEditorValue=e.selectedStickers.length===0?N:e.StickerSelectionProperties.Script||"";break}});ge(()=>{switch(console.log("was changed: Application.ValueEditorMode/Project/Board/StickerSelectionProperties"),e.ValueEditorMode){case"Project":e.ScriptEditorValue=e.Project==null?N:e.ProjectProperties.editableValue||"";break;case"Board":e.ScriptEditorValue=e.chosenBoard==null?N:e.BoardProperties.editableValue||"";break;case"Stickers":e.ScriptEditorValue=e.selectedStickers.length===0?N:e.StickerSelectionProperties.editableValue||"";break}});ge(()=>{console.log("was changed: Application.OperationHistoryState"),e.OperationHistoryState,e.mayUndoOperation=ue>0,e.mayRedoOperation=ue<ve.length});ge(()=>{console.log("was changed: Application.VisitHistoryState"),e.VisitHistoryState,e.mayVisitPrevBoard=J>0,e.mayVisitNextBoard=J<re.length-1});class pe{get isIrrelevant(){return!1}set isIrrelevant(n){se("isIrrelevant")}}class st extends pe{constructor(o,a,u){super();v(this,"_Project");v(this,"_PropertyName");v(this,"_oldValue");v(this,"_newValue");this._Project=o,this._PropertyName=a,this._oldValue=o[a],this._newValue=u}canExtend(o){return o instanceof st&&o._Project===this._Project&&o._PropertyName===this._PropertyName&&Ne(o._newValue,this._oldValue)}get isIrrelevant(){return this._newValue===this._oldValue}set isIrrelevant(o){se("isIrrelevant")}doNow(){M();try{this._Project[this._PropertyName]=this._newValue}catch{B("operation failed"),T("OperationFailure: could not change the given property")}}extend(o){this.doNow(),o._newValue=this._newValue}redo(){this.doNow()}undo(){M();try{this._Project[this._PropertyName]=this._oldValue}catch{B("operation failed"),T("OperationFailure: could not restore the given property")}}}class Vo extends pe{constructor(o,a,u,h=!1){super();v(this,"_Folder");v(this,"_Serializations");v(this,"_Index");v(this,"_newBoards",[]);this._Folder=o,this._Serializations=a.slice(),this._Index=u,h||this._Serializations.forEach(x=>ze(x))}canExtend(o){return!1}get isIrrelevant(){return!1}set isIrrelevant(o){se("isIrrelevant")}doNow(){if(M(),!this._Folder.isAttached){B("board no longer exists");return}const o=this._newBoards=[];this._Serializations.forEach((a,u)=>{try{const h=this._Folder.BoardDeserializedAt(a,this._Index+u);o.push(h),h.recursivelyActivateAllScripts()}catch{debugger}}),o.length!==this._Serializations.length&&B("operation did not fully succeed"),o.length===0&&(B("operation failed"),T("OperationFailure: could not create any new boards")),we(o)}extend(o){T("NotExtensible: this operation can not be extended")}redo(){this.doNow()}undo(){if(M(),!this._Folder.isAttached){B("board no longer exists");return}const o=[];this._newBoards.forEach(a=>{try{this._Folder.hasBoard(a)&&this._Folder.destroyBoard(a),o.push(a)}catch{}}),o.length!==this._newBoards.length&&B("operation did not fully succeed"),o.length===0&&(B("operation failed"),T("OperationFailure: could not delete the previously created boards")),we([])}}class ct extends pe{constructor(o,a,u){super();v(this,"_Board");v(this,"_PropertyName");v(this,"_oldValue");v(this,"_newValue");this._Board=o,this._PropertyName=a,this._oldValue=o[a],this._newValue=u}canExtend(o){return o instanceof ct&&o._Board===this._Board&&o._PropertyName===this._PropertyName&&Ne(o._newValue,this._oldValue)}get isIrrelevant(){return this._newValue===this._oldValue}set isIrrelevant(o){se("isIrrelevant")}doNow(){if(M(),!this._Board.isAttached){B("board no longer exists");return}try{this._Board[this._PropertyName]=this._newValue}catch{B("operation failed"),T("OperationFailure: could not change the given property")}}extend(o){this._Board.isAttached&&Y(this._Board),this.doNow(),o._newValue=this._newValue}redo(){this._Board.isAttached&&Y(this._Board),this.doNow()}undo(){if(M(),this._Board.isAttached)Y(this._Board);else{B("board no longer exists");return}try{this._Board[this._PropertyName]=this._oldValue}catch{B("operation failed"),T("OperationFailure: could not restore the given property")}}}class dt extends pe{constructor(o,a,u,h){super();v(this,"_oldFolder");v(this,"_oldIndices");v(this,"_newFolder");v(this,"_newIndex");this._oldFolder=o,this._oldIndices=a.map(x=>x.Index),this._newFolder=u,this._newIndex=h}canExtend(o){if(o instanceof dt&&o._newFolder===this._oldFolder){const a=o._newIndex;return this._oldIndices.every((u,h)=>u===a+h)}else return!1}get isIrrelevant(){if(this._newFolder===this._oldFolder){const o=this._newIndex;return this._oldIndices.every((a,u)=>a===o+u)}else return!1}set isIrrelevant(o){se("isIrrelevant")}doNow(){if(M(),!this._oldFolder.isAttached){B("original folder no longer exists");return}if(!this._newFolder.isAttached){B("target folder no longer exists");return}const o=this._oldFolder,a=this._oldIndices,u=this._newFolder,h=this._newIndex;let x=[];for(let g=a.length-1;g>=0;g--)try{o.moveBoardTo(a[g],u,h),x.push(u.Board(h))}catch{debugger}x.length!==a.length&&B("operation did not fully succeed"),x.length===0&&(B("operation failed"),T("OperationFailure: could not move the given boards")),we(x)}extend(o){this.doNow(),o._newFolder=this._newFolder,o._newIndex=this._newIndex}redo(){this.doNow()}undo(){if(M(),!this._oldFolder.isAttached){B("original folder no longer exists");return}if(!this._newFolder.isAttached){B("target folder no longer exists");return}const o=this._oldFolder,a=this._oldIndices,u=this._newFolder,h=this._newIndex;let x=[];for(let g=0,y=a.length;g<y;g++)try{u.moveBoardTo(h,o,a[g]),x.push(o.Board(a[g]))}catch{debugger}x.length!==a.length&&B("operation did not fully succeed"),x.length===0&&(B("operation failed"),T("OperationFailure: could not move the given boards")),we(x)}}class ut extends pe{constructor(o,a,u){super();v(this,"_Folder");v(this,"_Boards");v(this,"_oldIndices");v(this,"_newIndices");v(this,"_forwardMoves");v(this,"_backwardMoves");this._Folder=o,this._Boards=a,this._oldIndices=a.map(x=>x.Index),this._newIndices=u.slice();let h=this._Folder.BoardCount;this._forwardMoves=at(this._oldIndices,this._newIndices,h),this._backwardMoves=at(this._newIndices,this._oldIndices,h)}canExtend(o){return o instanceof ut&&_e(o._Boards,this._Boards)&&_e(o._newIndices,this._oldIndices)}get isIrrelevant(){return _e(this._oldIndices,this._newIndices)}set isIrrelevant(o){se("isIrrelevant")}doNow(){if(M(),!this._Folder.isAttached){B("folder no longer exists");return}this._shiftBoards(this._forwardMoves),we(this._Boards)}extend(o){this.doNow(),o._newIndices=this._newIndices,o._forwardMoves=this._forwardMoves,o._backwardMoves=this._backwardMoves}redo(){this.doNow()}undo(){if(M(),!this._Folder.isAttached){B("folder no longer exists");return}this._shiftBoards(this._backwardMoves),we(this._Boards)}_shiftBoards(o){if(o.length===0)return;const a=[];o.forEach((u,h)=>{try{this._Folder.shiftBoardsByIndex(u.oldIndex,u.newIndex,u.Count),a.push(u)}catch{debugger}}),a.length!==o.length&&B("operation did not fully succeed"),a.length===0&&(B("operation failed"),T("OperationFailure: could not shift the given boards"))}}class li extends pe{constructor(o){super();v(this,"_Folder");v(this,"_Boards");v(this,"_Indices");v(this,"_Serializations");this._Folder=Ce(o),this._Boards=o.slice(),this._Indices=o.map(a=>a.Index),this._Serializations=o.map(a=>a.Serialization)}canExtend(o){return!1}get isIrrelevant(){return!1}set isIrrelevant(o){se("isIrrelevant")}doNow(){if(M(),we([]),!this._Folder.isAttached)return;const o=this._Boards.filter(u=>this._Folder.hasBoard(u));if(o.length===0)return;const a=[];o.forEach(u=>{try{this._Folder.destroyBoard(u),a.push(u)}catch{debugger}}),a.length!==o.length&&B("operation did not fully succeed"),a.length===0&&(B("operation failed"),T("OperationFailure: could not delete any boards"))}extend(o){T("NotExtensible: this operation can not be extended")}redo(){this.doNow()}undo(){if(M(),!this._Folder.isAttached){B("folder no longer exists");return}const o=this._Boards=[];this._Serializations.forEach((a,u)=>{try{const h=this._Folder.BoardDeserializedAt(a,this._Indices[u]);o.push(h),h.recursivelyActivateAllScripts()}catch{debugger}}),o.length!==this._Serializations.length&&B("operation did not fully succeed"),o.length===0&&(B("operation failed"),T("OperationFailure: could not restore any previously deleted boards")),we(o)}}class pt extends pe{constructor(o,a,u,h=!1){super();v(this,"_Board");v(this,"_Serializations");v(this,"_Index");v(this,"_newStickers",[]);this._Board=o,this._Serializations=a.slice(),this._Index=u,h||this._Serializations.forEach(x=>ze(x))}canExtend(o){return!1}get isIrrelevant(){return!1}set isIrrelevant(o){se("isIrrelevant")}doNow(){if(M(),!this._Board.isAttached){B("board no longer exists");return}const o=this._newStickers=[];this._Serializations.forEach((a,u)=>{try{const h=this._Board.StickerDeserializedAt(a,this._Index+u);o.push(h),h.activateScript()}catch{debugger}}),o.length!==this._Serializations.length&&B("operation did not fully succeed"),o.length===0&&(B("operation failed"),T("OperationFailure: could not create any new stickers")),ke(o)}extend(o){T("NotExtensible: this operation can not be extended")}redo(){this._Board.isAttached&&Y(this._Board),this.doNow()}undo(){if(M(),this._Board.isAttached)Y(this._Board);else{B("board no longer exists");return}const o=[];this._newStickers.forEach(a=>{try{this._Board.hasSticker(a)&&this._Board.destroySticker(a),o.push(a)}catch{debugger}}),o.length!==this._newStickers.length&&B("operation did not fully succeed"),o.length===0&&(B("operation failed"),T("OperationFailure: could not delete the previously created stickers")),ke([])}}class ht extends pe{constructor(o,a,u){super();v(this,"_Board");v(this,"_Stickers");v(this,"_PropertyName");v(this,"_oldValues");v(this,"_newValue");this._Board=Le(o),this._Stickers=o.slice(),this._PropertyName=a,this._oldValues=o.map(h=>h[a]),this._newValue=u}canExtend(o){return o instanceof ht&&_e(o._Stickers,this._Stickers)&&o._PropertyName===this._PropertyName&&this._oldValues.every(a=>Ne(o._newValue,a))}get isIrrelevant(){return this._oldValues.every(o=>Ne(this._newValue,o))}set isIrrelevant(o){se("isIrrelevant")}doNow(){M();const o=this._Stickers.filter(u=>u.isAttached);if(o.length===0){B("stickers no longer exist");return}const a=[];o.forEach(u=>{try{u[this._PropertyName]=this._newValue,a.push(u)}catch{debugger}}),a.length!==o.length&&B("operation did not fully succeed"),a.length===0&&(B("operation failed"),T("OperationFailure: could not change the given property"))}extend(o){this._Board.isAttached&&Y(this._Board),this.doNow(),o._newValue=this._newValue}redo(){this._Board.isAttached&&Y(this._Board),this.doNow()}undo(){M();const o=this._Stickers.filter(u=>u.isAttached);if(o.length===0){B("stickers no longer exist");return}this._Board.isAttached&&Y(this._Board);const a=[];o.forEach(u=>{let h=this._Stickers.indexOf(u);try{u[this._PropertyName]=this._oldValues[h],a.push(u)}catch{debugger}}),a.length!==o.length&&B("operation did not fully succeed"),a.length===0&&(B("operation failed"),T("OperationFailure: could not restore the given property"))}}class Mt extends pe{constructor(o,a){super();v(this,"_Board");v(this,"_Stickers");v(this,"_oldGeometries");v(this,"_newGeometries");this._Board=o[0].Board,this._Stickers=o.slice(),this._oldGeometries=o.map(u=>u.Geometry),this._newGeometries=a.slice()}canExtend(o){return o instanceof Mt&&_e(o._Stickers,this._Stickers)&&this._oldGeometries.every((a,u)=>Ne(o._newGeometries[u],a))}get isIrrelevant(){return this._oldGeometries.every((o,a)=>Ne(this._newGeometries[a],o))}set isIrrelevant(o){se("isIrrelevant")}doNow(){M();const o=this._Stickers.filter(u=>u.isAttached);if(o.length===0){B("stickers no longer exist");return}const a=[];o.forEach((u,h)=>{try{u.Geometry=this._newGeometries[h],a.push(u)}catch{debugger}}),a.length!==o.length&&B("operation did not fully succeed"),a.length===0&&(B("operation failed"),T("OperationFailure: could not change the given property"))}extend(o){this._Board.isAttached&&Y(this._Board),this.doNow(),o._newGeometries=this._newGeometries}redo(){this._Board.isAttached&&Y(this._Board),this.doNow()}undo(){M();const o=this._Stickers.filter(u=>u.isAttached);if(o.length===0){B("stickers no longer exist");return}this._Board.isAttached&&Y(this._Board);const a=[];o.forEach(u=>{let h=this._Stickers.indexOf(u);try{u.Geometry=this._oldGeometries[h],a.push(u)}catch{debugger}}),a.length!==o.length&&B("operation did not fully succeed"),a.length===0&&(B("operation failed"),T("OperationFailure: could not restore the given property"))}}class Ae extends pe{constructor(o,a){super();v(this,"_Board");v(this,"_Stickers");v(this,"_oldIndices");v(this,"_newIndices");v(this,"_forwardMoves");v(this,"_backwardMoves");this._Board=Le(o),this._Stickers=o,this._oldIndices=o.map(h=>h.Index),this._newIndices=a.slice();let u=this._Board.StickerCount;this._forwardMoves=at(this._oldIndices,this._newIndices,u),this._backwardMoves=at(this._newIndices,this._oldIndices,u)}canExtend(o){return o instanceof Ae&&_e(o._Stickers,this._Stickers)&&_e(this._oldIndices,o._newIndices)}get isIrrelevant(){return _e(this._oldIndices,this._newIndices)}set isIrrelevant(o){se("isIrrelevant")}doNow(){if(M(),!this._Board.isAttached){B("board no longer exists");return}this._shiftStickers(this._forwardMoves),ke(this._Stickers)}extend(o){Y(this._Board),this.doNow(),o._newIndices=this._newIndices,o._forwardMoves=this._forwardMoves,o._backwardMoves=this._backwardMoves}redo(){Y(this._Board),this.doNow()}undo(){if(M(),this._Board.isAttached)Y(this._Board);else{B("board no longer exists");return}this._shiftStickers(this._backwardMoves),ke(this._Stickers)}_shiftStickers(o){if(o.length===0)return;const a=[];o.forEach((u,h)=>{try{this._Board.shiftStickersByIndex(u.oldIndex,u.newIndex,u.Count),a.push(u)}catch{debugger}}),a.length!==o.length&&B("operation did not fully succeed"),a.length===0&&(B("operation failed"),T("OperationFailure: could not shift the given stickers"))}}class si extends pe{constructor(o){super();v(this,"_Board");v(this,"_Stickers");v(this,"_Indices");v(this,"_Serializations");this._Board=Le(o),this._Stickers=o.slice(),this._Indices=o.map(a=>a.Index),this._Serializations=o.map(a=>a.Serialization)}canExtend(o){return!1}get isIrrelevant(){return!1}set isIrrelevant(o){se("isIrrelevant")}doNow(){if(M(),!this._Board.isAttached)return;const o=this._Stickers.filter(u=>this._Board.hasSticker(u));if(o.length===0)return;const a=[];o.forEach(u=>{try{this._Board.destroySticker(u),a.push(u)}catch{debugger}}),a.length!==o.length&&B("operation did not fully succeed"),a.length===0&&(B("operation failed"),T("OperationFailure: could not delete any stickers"))}extend(o){T("NotExtensible: this operation can not be extended")}redo(){this._Board.isAttached&&Y(this._Board),this.doNow()}undo(){if(M(),ke([]),this._Board.isAttached)Y(this._Board);else{B("board no longer exists");return}const o=this._Stickers=[];this._Serializations.forEach((a,u)=>{try{const h=this._Board.StickerDeserializedAt(a,this._Indices[u]);o.push(h),h.activateScript()}catch{debugger}}),o.length!==this._Serializations.length&&B("operation did not fully succeed"),o.length===0&&(B("operation failed"),T("OperationFailure: could not restore any previously deleted stickers")),ke(o)}}function No(t){const n={};return Object.keys(We).forEach(o=>n[o]=t[o]),n}function Ce(t){if(t.length===0)return e.Project;let n=t[0].Folder;return t.some(o=>o.Folder!==n)&&T("InvalidArgument: the given boards do not all belong to the same folder"),n}function Ue(t){if(t.length===0)return[];const n=t.map(o=>({Board:o,Index:o.Index}));return n.sort((o,a)=>o.Index-a.Index),n.map(o=>o.Board)}function xo(t){return t.map(n=>n.IndexPath)}function bo(t){const n=e.Project;return t.map(o=>n.BoardAtIndexPath(o)).filter(o=>o!=null)}function ci(t){return t.length===0?!1:Ot(t)>0?!0:Ge(t)>t.length}function Eo(t){if(t.length===0)return!1;const n=t[0].Folder.BoardCount;return Ge(t)<n-1?!0:Ot(t)<n-t.length}function di(t){return t.length===0?!1:Eo(t)}function ui(t){var n,o;return t.length===0?!1:((o=(n=t[0])==null?void 0:n.Folder)==null?void 0:o.Folder)!=null}function Ot(t){if(t.length===0)return-1;let n=1/0;return t.forEach(o=>n=Math.min(n,o.Index)),n}function Ge(t){if(t.length===0)return-1;let n=0;return t.forEach(o=>n=Math.max(n,o.Index)),n}function tt(t){if(t==null)return kt;const n={};return Object.keys(kt).forEach(o=>n[o]=t[o]),n}function Le(t){if(t.length===0)return;let n=t[0].Board;return t.some(o=>o.Board!==n)&&T("InvalidArgument: the given stickers do not all belong to the same board"),n}function me(t){if(t.length===0)return[];const n=t.map(o=>({Sticker:o,Index:o.Index}));return n.sort((o,a)=>o.Index-a.Index),n.map(o=>o.Sticker)}function pi(t){const n={};return Object.keys(ot).forEach(o=>n[o]=t[o]),n}function Oe(t){if(t.length===0)return{...ot};const n=pi(t[0]);return t.slice(1).forEach(o=>{Object.keys(ot).forEach(a=>{const u=o[a];Lr(u,n)&&(n[a]=je)})}),n}function hi(t){return t.length===0?!1:Rt(t)>0?!0:He(t)>t.length}function fi(t){if(t.length===0)return!1;const n=t[0].Folder.StickerCount;return He(t)<n-1?!0:Rt(t)<n-t.length}function Rt(t){if(t.length===0)return-1;let n=1/0;return t.forEach(o=>n=Math.min(n,o.Index)),n}function He(t){if(t.length===0)return-1;let n=0;return t.forEach(o=>n=Math.max(n,o.Index)),n}function jo(t){return t.length===0?{minX:0,minY:0}:{minX:Math.min(...t.map(n=>n.x)),minY:Math.min(...t.map(n=>n.y))}}function L(t){return t===N||t===je?null:t}function Q(t){return t===N||t===je?null:Math.round(t)}function de(t,n=!0){return t===N||t===je?null:t===n}function gi(t){switch(!0){case t==null:return"(no error found)";case t===N:return"(no selection)";case t===je:return"(various errors)";default:return t.Type+": "+t.Message}}function mi(t){window.alert(t.Type+`

`+t.Message)}function zt(t){let n=(t.pendingScript||"").trim(),o=(t.activeScript||"").trim();if(o===""&&(o=void 0),o!==n){if(n==null||n==="")t.activeScript=void 0,t.pendingScript=void 0,t.activateScript(),t.ScriptError=void 0,t.Error=void 0;else{const{activeScript:a,pendingScript:u}=t;t.activeScript=u,t.activateScript(),t.Error==null?(t.pendingScript=void 0,t.ScriptError=void 0):(t.ScriptError=t.Error,t.activeScript=a,t.activateScript())}t.rerender()}}function _e(t,n){return t.length===n.length&&t.every((o,a)=>o===n[a])}function at(t,n,o){let a=Array(o).fill(NaN).map((g,y)=>y);t.forEach(g=>a[g]=-1),a=a.filter(g=>g!==-1);let u=Array(o).fill(-1);n.forEach((g,y)=>u[g]=t[y]);for(let g=0,y=o;g<y;g++)u[g]===-1&&(u[g]=a.shift());const h=[];function x(g,y){const C=a[g];a.splice(g,1),a.splice(y,0,C),h.push({oldIndex:g,newIndex:y,Count:1})}a=Array(o).fill(NaN).map((g,y)=>y);for(let g=0,y=o;g<y;g++)a[g]!==u[g]&&x(a.indexOf(u[g]),g);for(let g=h.length-1;g>=1;g--){const y=h[g],C=h[g-1];C[0]===y[0]-1&&C[1]===y[1]-1&&(h.splice(g,1),C[2]+=y[2])}return h}Re.config({driver:[Re.INDEXEDDB,Re.WEBSQL]});Re.ready(function(){Pe=Re.createInstance({name:"NoteStickers"}),Ee(),ln("ProjectBrowser"),Uo("ready for operation"),Object.assign(window,{Application:e,MainScreen:X.ScreenNamed("MainScreen"),Inspector:X.DialogNamed("Inspector")})});
//# sourceMappingURL=./index.js.map
